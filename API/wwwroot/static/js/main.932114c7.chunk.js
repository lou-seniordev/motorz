/*! For license information please see main.932114c7.chunk.js.LICENSE.txt */
(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{414:function(e,t,a){e.exports=a(713)},421:function(e,t,a){},713:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return Wr}));var n=a(0),r=a.n(n),i=a(38),o=a.n(i),c=a(36),l=a(56),u=(a(419),a(420),a(421),a(722)),s=a(13),m=a(22),d=a(404),b=a(745),p=a(149),f=a(405),h=a(35),g=a(5),E=a(12),v=a.n(E),y=a(29),O=a(197),j=a(10),w=a(62),C=a(8),x=(a(76),a(70)),k=a.n(x),S=a(31);k.a.defaults.baseURL="/api",k.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),k.a.interceptors.response.use(void 0,(function(e){"Network Error"!==e.message||e.response||S.b.error("Network error - API not responsive");var t=e.response,a=t.status,n=t.data,r=t.config,i=t.headers;throw 404===a&&Wr.push("/notfound"),401===a&&i["www-authenticate"].startsWith('Bearer error="invalid_token", error_description="The token expired')&&(window.localStorage.removeItem("jwt"),Wr.push("/"),S.b.info("Your session has expired, please login again")),400===a&&"get"===r.method&&n.errors.hasOwnProperty("id")&&Wr.push("/notfound"),(404===a||400===a&&"get"===r.method&&n.errors.hasOwnProperty("id"))&&Wr.push("/notfound"),500===a&&S.b.error("Server error - check the terminal for more info!"),e.response}));var P,z,M,A,R,I,F,D,T,N,G,H,L,B,q,U,V,W,Y,J,K,Z,_,$,Q,X,ee,te,ae,ne,re,ie,oe,ce,le,ue,se,me,de,be,pe,fe,he,ge,Ee,ve,ye,Oe,je,we,Ce,xe,ke,Se,Pe,ze,Me,Ae,Re,Ie,Fe,De,Te,Ne,Ge,He,Le,Be,qe,Ue,Ve,We,Ye,Je,Ke,Ze,_e,$e,Qe,Xe,et,tt,at,nt,rt,it,ot,ct,lt,ut,st,mt,dt,bt,pt,ft,ht,gt,Et,vt,yt,Ot,jt,wt,Ct,xt,kt,St,Pt,zt,Mt,At,Rt,It,Ft,Dt,Tt,Nt,Gt,Ht,Lt=function(e){return e.data},Bt=function(e){return k.a.get(e).then(Lt)},qt=function(e,t){return k.a.post(e,t).then(Lt)},Ut=function(e,t){return k.a.put(e,t).then(Lt)},Vt=function(e){return k.a.delete(e).then(Lt)},Wt=function(e,t){var a=new FormData;return a.append("File",t),k.a.post(e,a,{headers:{"Content-type":"multipart/form-data"}}).then(Lt)},Yt={list:function(e){return k.a.get("/activities",{params:e}).then(Lt)},details:function(e){return Bt("/activities/".concat(e))},create:function(e){return qt("/activities",e)},update:function(e){return Ut("/activities/".concat(e.id),e)},delete:function(e){return Vt("/activities/".concat(e))},attend:function(e){return qt("/activities/".concat(e,"/attend"),{})},unattend:function(e){return Vt("/activities/".concat(e,"/attend"))}},Jt={current:function(){return Bt("/user")},login:function(e){return qt("user/login",e)},register:function(e){return qt("user/register",e)}},Kt={list:function(){return Bt("motofies")},details:function(e){return Bt("/motofies/".concat(e))},create:function(e){return qt("/motofies",e)},update:function(e){return Ut("/motofies/".concat(e.id),e)},delete:function(e){return Vt("/motofies/".concat(e))},embrace:function(e){return qt("/motofies/".concat(e,"/embrace"),{})},unembrace:function(e){return Vt("/motofies/".concat(e,"/embrace"))}},Zt={get:function(e){return Bt("/profiles/".concat(e))},uploadPhoto:function(e){return Wt("/photos/",e)},setMain:function(e){return qt("/photos/".concat(e,"/setMain"),{})},deletePhoto:function(e){return Vt("/photos/".concat(e))},updateProfile:function(e){return Ut("/profiles",e)},follow:function(e){return qt("/profiles/".concat(e,"/follow"),{})},unfollow:function(e){return Vt("/profiles/".concat(e,"/follow"))},listFollowings:function(e,t){return Bt("/profiles/".concat(e,"/follow?predicate=").concat(t))},listActivities:function(e,t){return Bt("/profiles/".concat(e,"/activities?predicate=").concat(t))}},_t={list:function(){return Bt("/forumposts")},details:function(e){return Bt("/forumposts/".concat(e))},create:function(e){return qt("/forumposts",e)},update:function(e){return Ut("/forumposts/".concat(e.id),e)},delete:function(e){return Vt("/forumposts/".concat(e))}},$t={list:function(){return Bt("mechanics")},details:function(e){return Bt("/mechanics/".concat(e))},create:function(e){return qt("/mechanics",e)},update:function(e){return Ut("/mechanics/".concat(e.id),e)},delete:function(e){return Vt("/mechanics/".concat(e))}},Qt=function(e,t){return e.date=new Date(e.date),e.isGoing=e.attendees.some((function(e){return e.username===t.userName})),e.isHost=e.attendees.some((function(e){return e.username===t.userName&&e.isHost})),e},Xt=function(e,t){return e.embraced=e.embracers.some((function(e){return e.username===(null===t||void 0===t?void 0:t.userName)})),e.isOwner=e.embracers.some((function(e){return e.username===t.userName&&e.isOwner})),e},ea=function(e){return{displayName:e.displayName,isHost:!1,username:e.userName,image:e.image}},ta=function(e){return{displayName:e.displayName,isOwner:!1,username:e.userName,image:e.image}},aa=a(248),na=(P=g.f.ref,z=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"activityRegistry",M,this),Object(j.a)(this,"activity",A,this),Object(j.a)(this,"loadingInitial",R,this),Object(j.a)(this,"submitting",I,this),Object(j.a)(this,"target",F,this),Object(j.a)(this,"loading",D,this),Object(j.a)(this,"activityCount",T,this),Object(j.a)(this,"page",N,this),Object(j.a)(this,"predicate",G,this),Object(j.a)(this,"setPredicate",H,this),Object(j.a)(this,"setPage",L,this),Object(j.a)(this,"hubConnection",B,this),Object(j.a)(this,"createHubConnection",q,this),Object(j.a)(this,"stopHubConnection",U,this),Object(j.a)(this,"addComment",V,this),Object(j.a)(this,"loadActivities",W,this),Object(j.a)(this,"loadActivity",Y,this),this.getActivity=function(e){return a.activityRegistry.get(e)},Object(j.a)(this,"clearActivity",J,this),Object(j.a)(this,"createActivity",K,this),Object(j.a)(this,"editActivity",Z,this),Object(j.a)(this,"deleteActivity",_,this),Object(j.a)(this,"attendActivity",$,this),Object(j.a)(this,"cancelAttendance",Q,this),this.rootStore=t,Object(g.g)((function(){return a.predicate.keys()}),(function(){a.page=0,a.activityRegistry.clear(),a.loadActivities()}))}return Object(w.a)(e,[{key:"axiosParams",get:function(){var e=new URLSearchParams;return e.append("limit",String(2)),e.append("offset","".concat(this.page?2*this.page:0)),this.predicate.forEach((function(t,a){"startDate"===a?e.append(a,t.toISOString()):e.append(a,t)})),e}},{key:"totalPages",get:function(){return Math.ceil(this.activityCount/2)}},{key:"activitiesByDate",get:function(){return this.groupActivitiesByDate(Array.from(this.activityRegistry.values()))}},{key:"groupActivitiesByDate",value:function(e){var t=e.sort((function(e,t){return e.date.getTime()-t.date.getTime()}));return Object.entries(t.reduce((function(e,t){var a=t.date.toISOString().split("T")[0];return e[a]=e[a]?[].concat(Object(O.a)(e[a]),[t]):[t],e}),{}))}}]),e}(),M=Object(C.a)(z.prototype,"activityRegistry",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),A=Object(C.a)(z.prototype,"activity",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Object(C.a)(z.prototype,"loadingInitial",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(C.a)(z.prototype,"submitting",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=Object(C.a)(z.prototype,"target",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=Object(C.a)(z.prototype,"loading",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=Object(C.a)(z.prototype,"activityCount",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=Object(C.a)(z.prototype,"page",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=Object(C.a)(z.prototype,"predicate",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),H=Object(C.a)(z.prototype,"setPredicate",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.predicate.clear(),"all"!==t&&e.predicate.set(t,a)}}}),Object(C.a)(z.prototype,"axiosParams",[g.c],Object.getOwnPropertyDescriptor(z.prototype,"axiosParams"),z.prototype),Object(C.a)(z.prototype,"totalPages",[g.c],Object.getOwnPropertyDescriptor(z.prototype,"totalPages"),z.prototype),L=Object(C.a)(z.prototype,"setPage",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.page=t}}}),B=Object(C.a)(z.prototype,"hubConnection",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Object(C.a)(z.prototype,"createHubConnection",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.hubConnection=(new aa.a).withUrl("/chat",{accessTokenFactory:function(){return e.rootStore.commonStore.token}}).configureLogging(aa.b.Information).build(),e.hubConnection.start().then((function(){return console.log(e.hubConnection.state)})).then((function(){var a;(console.log("Attempting to join group"),"Connected"===e.hubConnection.state)&&(null===(a=e.hubConnection)||void 0===a||a.invoke("AddToGroup",t))})).catch((function(e){return console.log("Error establishing connection")})),e.hubConnection.on("RecieveComment",(function(t){Object(g.h)((function(){e.activity.comments.push(t)}))})),e.hubConnection.on("Send",(function(e){S.b.info(e)}))}}}),U=Object(C.a)(z.prototype,"stopHubConnection",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;null===(t=e.hubConnection)||void 0===t||t.invoke("RemoveFromGroup",e.activity.id).then((function(){var t;null===(t=e.hubConnection)||void 0===t||t.stop()})).then((function(){return console.log("Connection stopped!")})).catch((function(e){return console.log(e)}))}}}),V=Object(C.a)(z.prototype,"addComment",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.activityId=e.activity.id,t.prev=1,t.next=4,e.hubConnection.invoke("SendComment",a);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}}),Object(C.a)(z.prototype,"activitiesByDate",[g.c],Object.getOwnPropertyDescriptor(z.prototype,"activitiesByDate"),z.prototype),W=Object(C.a)(z.prototype,"loadActivities",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingInitial=!0,t.prev=1,t.next=4,Yt.list(e.axiosParams);case 4:a=t.sent,n=a.activities,r=a.activityCount,Object(g.h)("loading activities",(function(){n.forEach((function(t){Qt(t,e.rootStore.userStore.user),e.activityRegistry.set(t.id,t)})),e.activityCount=r,e.loadingInitial=!1})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),Object(g.h)("load activities error",(function(){e.loadingInitial=!1})),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))}}),Y=Object(C.a)(z.prototype,"loadActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getActivity(a))){t.next=6;break}return e.activity=n,t.abrupt("return",Object(g.j)(n));case 6:return e.loadingInitial=!0,t.prev=7,t.next=10,Yt.details(a);case 10:return n=t.sent,Object(g.h)("getting activity",(function(){Qt(n,e.rootStore.userStore.user),e.activity=n,e.activityRegistry.set(n.id,n),e.loadingInitial=!1})),t.abrupt("return",n);case 15:t.prev=15,t.t0=t.catch(7),Object(g.h)("error get activity",(function(){e.loadingInitial=!1})),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}()}}),J=Object(C.a)(z.prototype,"clearActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.activity=null}}}),K=Object(C.a)(z.prototype,"createActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,Yt.create(a);case 4:(n=ea(e.rootStore.userStore.user)).isHost=!0,(r=[]).push(n),a.attendees=r,a.comments=[],a.isHost=!0,Object(g.h)("creating activity",(function(){e.activityRegistry.set(a.id,a),e.submitting=!1})),Wr.push("/activities/".concat(a.id)),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),Object(g.h)("create activity error",(function(){e.submitting=!1})),S.b.error("Problem submitting data!"),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}}),Z=Object(C.a)(z.prototype,"editActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,Yt.update(a);case 4:Object(g.h)("editing activity",(function(){e.activityRegistry.set(a.id,a),e.activity=a,e.submitting=!1})),Wr.push("/activities/".concat(a.id)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("edit activity error",(function(){e.submitting=!1})),S.b.error("Problem submitting data!"),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),_=Object(C.a)(z.prototype,"deleteActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.target=a.currentTarget.name,t.prev=2,t.next=5,Yt.delete(n);case 5:Object(g.h)("deleting activity",(function(){e.activityRegistry.delete(n),e.submitting=!1,e.target=""})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)("delete error activity",(function(){e.submitting=!1,e.target="",console.log(t.t0)}));case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),$=Object(C.a)(z.prototype,"attendActivity",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=ea(e.rootStore.userStore.user),e.loading=!0,t.prev=2,t.next=5,Yt.attend(e.activity.id);case 5:Object(g.h)((function(){e.activity&&(e.activity.attendees.push(a),e.activity.isGoing=!0,e.activityRegistry.set(e.activity.id,e.activity),e.loading=!1)})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)((function(){e.loading=!1})),S.b.error("Problem joining the group at this time");case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))}}),Q=Object(C.a)(z.prototype,"cancelAttendance",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Yt.unattend(e.activity.id);case 4:Object(g.h)((function(){e.activity&&(e.activity.attendees=e.activity.attendees.filter((function(t){var a;return t.username!==(null===(a=e.rootStore.userStore.user)||void 0===a?void 0:a.userName)})),e.activity.isGoing=!1,e.activityRegistry.set(e.activity.id,e.activity),e.loading=!1)})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),Object(g.h)((function(){e.loading=!1})),S.b.error("Problem cancelling attendance at this time");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))}}),z),ra=(X=function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"token",ee,this),Object(j.a)(this,"appLoaded",te,this),Object(j.a)(this,"setToken",ae,this),Object(j.a)(this,"setAppLoaded",ne,this),this.rootStore=t,Object(g.g)((function(){return a.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))},ee=Object(C.a)(X.prototype,"token",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("jwt")}}),te=Object(C.a)(X.prototype,"appLoaded",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=Object(C.a)(X.prototype,"setToken",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.token=t}}}),ne=Object(C.a)(X.prototype,"setAppLoaded",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.appLoaded=!0}}}),X),ia=(re=g.f.shallow,ie=function e(t){Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"modal",oe,this),Object(j.a)(this,"openModal",ce,this),Object(j.a)(this,"closeModal",le,this),this.rootStore=t},oe=Object(C.a)(ie.prototype,"modal",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{open:!1,body:null}}}),ce=Object(C.a)(ie.prototype,"openModal",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.modal.open=!0,e.modal.body=t}}}),le=Object(C.a)(ie.prototype,"closeModal",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.modal.open=!1,e.modal.body=null}}}),ie),oa=a(46),ca=(ue=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"profile",se,this),Object(j.a)(this,"loadingProfile",me,this),Object(j.a)(this,"uploadingPhoto",de,this),Object(j.a)(this,"loading",be,this),Object(j.a)(this,"followings",pe,this),Object(j.a)(this,"activeTab",fe,this),Object(j.a)(this,"userActivities",he,this),Object(j.a)(this,"loadingActivities",ge,this),Object(j.a)(this,"loadUserActivities",Ee,this),Object(j.a)(this,"setActiveTab",ve,this),Object(j.a)(this,"loadProfile",ye,this),Object(j.a)(this,"uploadPhoto",Oe,this),Object(j.a)(this,"setMainPhoto",je,this),Object(j.a)(this,"deletePhoto",we,this),Object(j.a)(this,"updateProfile",Ce,this),Object(j.a)(this,"follow",xe,this),Object(j.a)(this,"unfollow",ke,this),Object(j.a)(this,"loadFollowings",Se,this),this.rootStore=t,Object(g.g)((function(){return a.activeTab}),(function(e){if(3===e||4===e){var t=3===e?"followers":"following";a.loadFollowings(t)}else a.followings=[]}))}return Object(w.a)(e,[{key:"isCurrentUser",get:function(){return!(!this.rootStore.userStore.user||!this.profile)&&this.rootStore.userStore.user.userName===this.profile.username}}]),e}(),se=Object(C.a)(ue.prototype,"profile",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=Object(C.a)(ue.prototype,"loadingProfile",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),de=Object(C.a)(ue.prototype,"uploadingPhoto",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=Object(C.a)(ue.prototype,"loading",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=Object(C.a)(ue.prototype,"followings",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=Object(C.a)(ue.prototype,"activeTab",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=Object(C.a)(ue.prototype,"userActivities",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=Object(C.a)(ue.prototype,"loadingActivities",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(C.a)(ue.prototype,"isCurrentUser",[g.c],Object.getOwnPropertyDescriptor(ue.prototype,"isCurrentUser"),ue.prototype),Ee=Object(C.a)(ue.prototype,"loadUserActivities",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a,n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingActivities=!0,t.prev=1,t.next=4,Zt.listActivities(a,n);case 4:r=t.sent,Object(g.h)((function(){e.userActivities=r,e.loadingActivities=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),S.b.error("Problem loading user activities"),Object(g.h)((function(){e.loadingActivities=!1}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),ve=Object(C.a)(ue.prototype,"setActiveTab",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeTab=t}}}),ye=Object(C.a)(ue.prototype,"loadProfile",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingProfile=!0,t.prev=1,t.next=4,Zt.get(a);case 4:n=t.sent,Object(g.h)((function(){e.profile=n,e.loadingProfile=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)((function(){e.loadingProfile=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Oe=Object(C.a)(ue.prototype,"uploadPhoto",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.uploadingPhoto=!0,t.prev=1,t.next=4,Zt.uploadPhoto(a);case 4:n=t.sent,Object(g.h)((function(){e.profile&&(e.profile.photos.push(n),n.isMain&&e.rootStore.userStore.user&&(e.rootStore.userStore.user.image=n.url,e.profile.image=n.url)),e.uploadingPhoto=!1})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),S.b.error("Problem uploading photo"),Object(g.h)((function(){e.uploadingPhoto=!1}));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),je=Object(C.a)(ue.prototype,"setMainPhoto",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Zt.setMain(a.id);case 4:Object(g.h)((function(){e.rootStore.userStore.user.image=a.url,e.profile.photos.find((function(e){return e.isMain})).isMain=!1,e.profile.photos.find((function(e){return e.id===a.id})).isMain=!0,e.profile.image=a.url,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),S.b.error("Problem setting photo as main"),Object(g.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),we=Object(C.a)(ue.prototype,"deletePhoto",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Zt.deletePhoto(a.id);case 4:Object(g.h)((function(){e.profile.photos=e.profile.photos.filter((function(e){return e.id!==a.id})),e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),S.b.error("Problem deleting the photo"),Object(g.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Ce=Object(C.a)(ue.prototype,"updateProfile",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zt.updateProfile(a);case 3:Object(g.h)((function(){a.displayName!==e.rootStore.userStore.user.displayName&&(e.rootStore.userStore.user.displayName=a.displayName),e.profile=Object(oa.a)(Object(oa.a)({},e.profile),a)})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),S.b.error("Problem updating profile");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}}),xe=Object(C.a)(ue.prototype,"follow",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Zt.follow(a);case 4:Object(g.h)((function(){e.profile.following=!0,e.profile.followersCount++,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),S.b.error("Problem following user"),Object(g.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),ke=Object(C.a)(ue.prototype,"unfollow",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Zt.unfollow(a);case 4:Object(g.h)((function(){e.profile.following=!1,e.profile.followersCount--,e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),S.b.error("Problem unfollowing user"),Object(g.h)((function(){e.loading=!1}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Se=Object(C.a)(ue.prototype,"loadFollowings",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Zt.listFollowings(e.profile.username,a);case 4:n=t.sent,Object(g.h)((function(){e.followings=n,e.loading=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),S.b.error("Problem loading followings"),Object(g.h)((function(){e.loading=!1}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),ue),la=(Pe=function(){function e(t){Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"user",ze,this),Object(j.a)(this,"login",Me,this),Object(j.a)(this,"getUser",Ae,this),Object(j.a)(this,"logout",Re,this),Object(j.a)(this,"register",Ie,this),this.rootStore=t}return Object(w.a)(e,[{key:"isLoggedIn",get:function(){return!!this.user}}]),e}(),ze=Object(C.a)(Pe.prototype,"user",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(C.a)(Pe.prototype,"isLoggedIn",[g.c],Object.getOwnPropertyDescriptor(Pe.prototype,"isLoggedIn"),Pe.prototype),Me=Object(C.a)(Pe.prototype,"login",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.login(a);case 3:n=t.sent,Object(g.h)((function(){e.user=n})),e.rootStore.commonStore.setToken(n.token),e.rootStore.modalStore.closeModal(),Wr.push("/activities"),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}}),Ae=Object(C.a)(Pe.prototype,"getUser",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.current();case 3:a=t.sent,Object(g.h)((function(){e.user=a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),Re=Object(C.a)(Pe.prototype,"logout",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.rootStore.commonStore.setToken(null),e.user=null,Wr.push("/")}}}),Ie=Object(C.a)(Pe.prototype,"register",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.register(a);case 3:n=t.sent,e.rootStore.commonStore.setToken(n.token),e.rootStore.modalStore.closeModal(),Wr.push("/activities"),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}),Pe),ua=(Fe=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"forumPostRegistry",De,this),Object(j.a)(this,"forumposts",Te,this),Object(j.a)(this,"forumpost",Ne,this),Object(j.a)(this,"loadingInitial",Ge,this),Object(j.a)(this,"editMode",He,this),Object(j.a)(this,"submitting",Le,this),Object(j.a)(this,"target",Be,this),Object(j.a)(this,"loadForumPosts",qe,this),Object(j.a)(this,"loadForumPost",Ue,this),Object(j.a)(this,"clearForumPost",Ve,this),this.getForumPost=function(e){return a.forumPostRegistry.get(e)},Object(j.a)(this,"createForumpost",We,this),Object(j.a)(this,"editForumpost",Ye,this),Object(j.a)(this,"deleteForumpost",Je,this),Object(j.a)(this,"openCreateForm",Ke,this),Object(j.a)(this,"openEditForm",Ze,this),Object(j.a)(this,"cancelSelectedForumpost",_e,this),Object(j.a)(this,"cancelFormOpen",$e,this),Object(j.a)(this,"selectForum",Qe,this),this.rootStore=t}return Object(w.a)(e,[{key:"forumpostsByDate",get:function(){return this.groupForumpostsByDate(Array.from(this.forumPostRegistry.values()))}},{key:"groupForumpostsByDate",value:function(e){var t=e.sort((function(e,t){return Date.parse(e.dateAdded)-Date.parse(t.dateAdded)}));return Object.entries(t.reduce((function(e,t){var a=t.dateAdded.split("T")[0];return e[a]=e[a]?[].concat(Object(O.a)(e[a]),[t]):[t],e}),{}))}}]),e}(),De=Object(C.a)(Fe.prototype,"forumPostRegistry",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Te=Object(C.a)(Fe.prototype,"forumposts",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=Object(C.a)(Fe.prototype,"forumpost",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=Object(C.a)(Fe.prototype,"loadingInitial",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=Object(C.a)(Fe.prototype,"editMode",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=Object(C.a)(Fe.prototype,"submitting",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Be=Object(C.a)(Fe.prototype,"target",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(C.a)(Fe.prototype,"forumpostsByDate",[g.c],Object.getOwnPropertyDescriptor(Fe.prototype,"forumpostsByDate"),Fe.prototype),qe=Object(C.a)(Fe.prototype,"loadForumPosts",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingInitial=!0,t.prev=1,t.next=4,_t.list();case 4:a=t.sent,Object(g.h)("loading forumposts",(function(){a.forEach((function(t){e.forumPostRegistry.set(t.id,t)})),e.loadingInitial=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("load forumposts error",(function(){e.loadingInitial=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}}),Ue=Object(C.a)(Fe.prototype,"loadForumPost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getForumPost(a))){t.next=6;break}return e.forumpost=n,t.abrupt("return",n);case 6:return e.loadingInitial=!0,t.prev=7,t.next=10,_t.details(a);case 10:n=t.sent,Object(g.h)("getting forumpost",(function(){e.forumpost=n,e.forumPostRegistry.set(n.id,n),e.loadingInitial=!1})),e.forumpost=n,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),Object(g.h)("get forumpost error",(function(){e.loadingInitial=!1,console.log(t.t0)}));case 18:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}()}}),Ve=Object(C.a)(Fe.prototype,"clearForumPost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.forumpost=null}}}),We=Object(C.a)(Fe.prototype,"createForumpost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,_t.create(a);case 4:Object(g.h)("creating forumposts",(function(){e.forumPostRegistry.set(a.id,a),e.submitting=!1})),Wr.push("/forum/".concat(a.id)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("create forumpost error",(function(){e.submitting=!1})),S.b.error("Problem submitting data"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Ye=Object(C.a)(Fe.prototype,"editForumpost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,_t.update(a);case 4:Object(g.h)("editing forumpost",(function(){e.forumPostRegistry.set(a.id,a),e.forumpost=a,e.editMode=!1,e.submitting=!1})),Wr.push("/forum/".concat(a.id)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("edit forumpost error",(function(){e.submitting=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Je=Object(C.a)(Fe.prototype,"deleteForumpost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.target=a.currentTarget.name,t.prev=2,t.next=5,_t.delete(n);case 5:Object(g.h)("deleting forumpost",(function(){e.forumPostRegistry.delete(n),e.submitting=!1,e.target=""})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)("delete forumpost error",(function(){e.submitting=!1,e.target=""})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),Ke=Object(C.a)(Fe.prototype,"openCreateForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!0,e.forumpost=null}}}),Ze=Object(C.a)(Fe.prototype,"openEditForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.forumpost=e.forumPostRegistry.get(t),e.editMode=!0}}}),_e=Object(C.a)(Fe.prototype,"cancelSelectedForumpost",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.forumpost=null}}}),$e=Object(C.a)(Fe.prototype,"cancelFormOpen",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!1}}}),Qe=Object(C.a)(Fe.prototype,"selectForum",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.forumpost=e.forumPostRegistry.get(t),e.editMode=!1}}}),Fe),sa=(Xe=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"motofyRegistry",et,this),Object(j.a)(this,"motofies",tt,this),Object(j.a)(this,"motofy",at,this),Object(j.a)(this,"editMode",nt,this),Object(j.a)(this,"loadingInitial",rt,this),Object(j.a)(this,"submitting",it,this),Object(j.a)(this,"target",ot,this),Object(j.a)(this,"loading",ct,this),Object(j.a)(this,"loadMotofies",lt,this),Object(j.a)(this,"loadMotofy",ut,this),Object(j.a)(this,"clearMotofy",st,this),this.getMotofy=function(e){return a.motofyRegistry.get(e)},Object(j.a)(this,"createMotofy",mt,this),Object(j.a)(this,"editMotofy",dt,this),Object(j.a)(this,"deleteMotofy",bt,this),Object(j.a)(this,"embraceMotofy",pt,this),Object(j.a)(this,"unembraceMotofy",ft,this),Object(j.a)(this,"openCreateForm",ht,this),Object(j.a)(this,"openEditForm",gt,this),Object(j.a)(this,"cancelSelectedMotofy",Et,this),Object(j.a)(this,"cancelFormOpen",vt,this),Object(j.a)(this,"selectMotofy",yt,this),this.rootStore=t}return Object(w.a)(e,[{key:"motofiesByDate",get:function(){return Array.from(this.motofyRegistry.values()).sort((function(e,t){return Date.parse(e.date)-Date.parse(t.date)}))}}]),e}(),et=Object(C.a)(Xe.prototype,"motofyRegistry",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),tt=Object(C.a)(Xe.prototype,"motofies",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=Object(C.a)(Xe.prototype,"motofy",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=Object(C.a)(Xe.prototype,"editMode",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=Object(C.a)(Xe.prototype,"loadingInitial",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=Object(C.a)(Xe.prototype,"submitting",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=Object(C.a)(Xe.prototype,"target",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ct=Object(C.a)(Xe.prototype,"loading",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(C.a)(Xe.prototype,"motofiesByDate",[g.c],Object.getOwnPropertyDescriptor(Xe.prototype,"motofiesByDate"),Xe.prototype),lt=Object(C.a)(Xe.prototype,"loadMotofies",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingInitial=!0,t.prev=1,t.next=4,Kt.list();case 4:a=t.sent,Object(g.h)("loading motofies",(function(){a.forEach((function(t){var a;t.datePublished=null===(a=t.datePublished)||void 0===a?void 0:a.split("T")[0],Xt(t,e.rootStore.userStore.user),e.motofyRegistry.set(t.id,t)})),e.loadingInitial=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)((function(){e.loadingInitial=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}}),ut=Object(C.a)(Xe.prototype,"loadMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getMotofy(a))){t.next=6;break}return e.motofy=n,t.abrupt("return",n);case 6:return e.loadingInitial=!0,t.prev=7,t.next=10,Kt.details(a);case 10:return n=t.sent,Object(g.h)("getting motofy",(function(){Xt(n,e.rootStore.userStore.user),e.motofy=n,e.motofyRegistry.set(n.id,n),e.loadingInitial=!1})),t.abrupt("return",n);case 15:t.prev=15,t.t0=t.catch(7),Object(g.h)("get motofy error",(function(){e.loadingInitial=!1})),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}()}}),st=Object(C.a)(Xe.prototype,"clearMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.motofy=null}}}),mt=Object(C.a)(Xe.prototype,"createMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,Kt.create(a);case 4:(n=ta(e.rootStore.userStore.user)).isOwner=!0,(r=[]).push(n),a.embracers=r,a.isOwner=!0,Object(g.h)("create motofy",(function(){e.motofyRegistry.set(a.id,a),e.submitting=!1})),Wr.push("/gallery/".concat(a.id)),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),Object(g.h)((function(){e.submitting=!1})),S.b.error("Problem submitting data"),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}}),dt=Object(C.a)(Xe.prototype,"editMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.editMode=!0,t.prev=2,t.next=5,Kt.update(a);case 5:Object(g.h)("editing motofy",(function(){e.motofyRegistry.set(a.id,a),e.motofy=a,e.editMode=!1,e.submitting=!1})),Wr.push("/gallery/".concat(a.id)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),Object(g.h)("edit motofy error",(function(){e.submitting=!1})),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}}),bt=Object(C.a)(Xe.prototype,"deleteMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.target=a.currentTarget.name,t.prev=2,t.next=5,Kt.delete(n);case 5:Object(g.h)("deleting Motofy",(function(){e.motofyRegistry.delete(n),e.submitting=!1,e.target=""})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)("delete motofy error",(function(){e.submitting=!1,e.target=""})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),pt=Object(C.a)(Xe.prototype,"embraceMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=ta(e.rootStore.userStore.user),e.loading=!0,t.prev=2,t.next=5,Kt.embrace(e.motofy.id);case 5:Object(g.h)((function(){e.motofy&&(e.motofy.embracers.push(a),e.motofy.embraced=!0,e.motofyRegistry.set(e.motofy.id,e.motofy),e.loading=!1)})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)((function(){e.loading=!1})),S.b.error("Problem embracing this motofy");case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))}}),ft=Object(C.a)(Xe.prototype,"unembraceMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Kt.unembrace(e.motofy.id);case 4:Object(g.h)((function(){e.motofy&&(e.motofy.embracers=e.motofy.embracers.filter((function(t){return t.username!==e.rootStore.userStore.user.userName})),e.motofy.embraced=!1,e.motofyRegistry.set(e.motofy.id,e.motofy)),e.loading=!1})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),Object(g.h)((function(){e.loading=!1})),S.b.error("Problem embracing this motofy");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))}}),ht=Object(C.a)(Xe.prototype,"openCreateForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!0,e.motofy=null}}}),gt=Object(C.a)(Xe.prototype,"openEditForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.editMode=!0,e.motofy=e.motofyRegistry.get(t)}}}),Et=Object(C.a)(Xe.prototype,"cancelSelectedMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.motofy=null}}}),vt=Object(C.a)(Xe.prototype,"cancelFormOpen",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!1}}}),yt=Object(C.a)(Xe.prototype,"selectMotofy",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.motofy=e.motofyRegistry.get(t),e.editMode=!1}}}),Xe),ma=(Ot=function(){function e(t){var a=this;Object(h.a)(this,e),this.rootStore=void 0,Object(j.a)(this,"mechanicRegistry",jt,this),Object(j.a)(this,"mechanics",wt,this),Object(j.a)(this,"mechanic",Ct,this),Object(j.a)(this,"loadingInitial",xt,this),Object(j.a)(this,"editMode",kt,this),Object(j.a)(this,"submitting",St,this),Object(j.a)(this,"target",Pt,this),Object(j.a)(this,"loadMechanics",zt,this),Object(j.a)(this,"loadMechanic",Mt,this),Object(j.a)(this,"clearMechanic",At,this),this.getMechanic=function(e){return a.mechanicRegistry.get(e)},Object(j.a)(this,"createMechanic",Rt,this),Object(j.a)(this,"editMechanic",It,this),Object(j.a)(this,"deleteMechanic",Ft,this),Object(j.a)(this,"openCreateForm",Dt,this),Object(j.a)(this,"openEditForm",Tt,this),Object(j.a)(this,"cancelSelectedMechanic",Nt,this),Object(j.a)(this,"cancelFormOpen",Gt,this),Object(j.a)(this,"selectMechanic",Ht,this),this.rootStore=t}return Object(w.a)(e,[{key:"mechanicsByDate",get:function(){return Array.from(this.mechanicRegistry.values()).sort((function(e,t){return Date.parse(e.datePublished)-Date.parse(t.datePublished)}))}}]),e}(),jt=Object(C.a)(Ot.prototype,"mechanicRegistry",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),wt=Object(C.a)(Ot.prototype,"mechanics",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=Object(C.a)(Ot.prototype,"mechanic",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=Object(C.a)(Ot.prototype,"loadingInitial",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kt=Object(C.a)(Ot.prototype,"editMode",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),St=Object(C.a)(Ot.prototype,"submitting",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=Object(C.a)(Ot.prototype,"target",[g.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(C.a)(Ot.prototype,"mechanicsByDate",[g.c],Object.getOwnPropertyDescriptor(Ot.prototype,"mechanicsByDate"),Ot.prototype),zt=Object(C.a)(Ot.prototype,"loadMechanics",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingInitial=!0,t.prev=1,t.next=4,$t.list();case 4:a=t.sent,Object(g.h)("loading mechanics",(function(){a.forEach((function(t){var a;t.datePublished=null===(a=t.datePublished)||void 0===a?void 0:a.split("T")[0],console.log(t.datePublished),e.mechanicRegistry.set(t.id,t)})),e.loadingInitial=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("load mechanics error",(function(){e.loadingInitial=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}}),Mt=Object(C.a)(Ot.prototype,"loadMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getMechanic(a))){t.next=6;break}return e.mechanic=n,t.abrupt("return",n);case 6:return e.loadingInitial=!0,t.prev=7,t.next=10,$t.details(a);case 10:return n=t.sent,Object(g.h)("getting mechanic",(function(){e.mechanic=n,e.loadingInitial=!1})),t.abrupt("return",n);case 15:t.prev=15,t.t0=t.catch(7),Object(g.h)("get mechanic error",(function(){e.loadingInitial=!1})),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}()}}),At=Object(C.a)(Ot.prototype,"clearMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.mechanic=null}}}),Rt=Object(C.a)(Ot.prototype,"createMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,$t.create(a);case 4:Object(g.h)("creating mechanics",(function(){e.mechanicRegistry.set(a.id,a),e.editMode=!1,e.submitting=!1})),Wr.push("/mechanics/".concat(a.id)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("create mechanic error",(function(){e.submitting=!1})),S.b.error("Problem submitting data"),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),It=Object(C.a)(Ot.prototype,"editMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,t.prev=1,t.next=4,$t.update(a);case 4:Object(g.h)("creating mechanic",(function(){e.mechanicRegistry.set(a.id,a),e.mechanic=a,e.editMode=!1,e.submitting=!1})),Wr.push("/mechanics/".concat(a.id)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),Object(g.h)("create mechanic error",(function(){e.submitting=!1})),S.b.error("Problem submitting data"),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Ft=Object(C.a)(Ot.prototype,"deleteMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitting=!0,e.target=a.currentTarget.name,t.prev=2,t.next=5,$t.delete(n);case 5:Object(g.h)("deleting mechanic",(function(){e.mechanicRegistry.delete(n),e.submitting=!1,e.target=""})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Object(g.h)("delete mechanic error",(function(){e.submitting=!1,e.target=""})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}),Dt=Object(C.a)(Ot.prototype,"openCreateForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!0,e.mechanic=null}}}),Tt=Object(C.a)(Ot.prototype,"openEditForm",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.mechanic=e.mechanicRegistry.get(t),e.editMode=!0}}}),Nt=Object(C.a)(Ot.prototype,"cancelSelectedMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.mechanic=null}}}),Gt=Object(C.a)(Ot.prototype,"cancelFormOpen",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.editMode=!1}}}),Ht=Object(C.a)(Ot.prototype,"selectMechanic",[g.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.mechanic=e.mechanicRegistry.get(t),e.editMode=!1}}}),Ot);Object(g.d)({enforceActions:"always"});var da=Object(n.createContext)(new function e(){Object(h.a)(this,e),this.activityStore=void 0,this.userStore=void 0,this.commonStore=void 0,this.modalStore=void 0,this.profileStore=void 0,this.forumPostStore=void 0,this.motofyStore=void 0,this.mechanicStore=void 0,this.activityStore=new na(this),this.userStore=new la(this),this.commonStore=new ra(this),this.modalStore=new ia(this),this.profileStore=new ca(this),this.forumPostStore=new ua(this),this.motofyStore=new sa(this),this.mechanicStore=new ma(this)}),ba=Object(s.a)((function(){var e=[{key:"Mecanic",text:"Mecanics Shop",value:"Mecanic",as:m.a,to:"/mechanicForm"},{key:"Riding",text:"Riding Route",value:"Riding",as:m.a,to:"/createActivity"},{key:"Post",text:"Gallery Post",value:"Post",as:m.a,to:"/galleryForm"},{key:"Forum",text:"Forum Post",value:"Forum",as:m.a,to:"/forumform"}],t=Object(n.useContext)(da).userStore,a=t.user,i=t.logout;return r.a.createElement(d.a,{fixed:"top",stackable:!0,inverted:!0},r.a.createElement(u.a,null,r.a.createElement(d.a.Item,{as:m.b,exact:!0,to:"/"},r.a.createElement("img",{src:"/assets/logo.png",alt:"logo",style:{marginRight:"10"}}),"Motoranza"),r.a.createElement(b.a,null),r.a.createElement(d.a.Item,{name:"gallery",exact:!0,as:m.b,to:"/gallery"}),r.a.createElement(d.a.Item,{name:"riding routes",exact:!0,as:m.b,to:"/activities"}),r.a.createElement(d.a.Item,{name:"forum",exact:!0,as:m.b,to:"/forum"}),r.a.createElement(d.a.Item,{name:"repair shops",exact:!0,as:m.b,to:"/mechanics"}),r.a.createElement(d.a.Item,{name:"shop",exact:!0,as:m.b,to:"/merchant"}),a&&r.a.createElement(d.a.Item,null,r.a.createElement(p.a,{button:!0,item:!0,className:"icon",floating:!0,labeled:!0,icon:"world",options:e,text:"Create"})),a&&r.a.createElement(d.a.Item,{position:"right"},r.a.createElement(f.a,{avatar:!0,spaced:"right",src:a.image||"/assets/user.png"}),r.a.createElement(p.a,{pointing:"top left",text:a.displayName},r.a.createElement(p.a.Menu,null,r.a.createElement(p.a.Item,{as:m.a,to:"/profile/".concat(a.userName),text:"My profile",icon:"user"}),r.a.createElement(p.a.Item,{onClick:i,text:"Logout",icon:"power"}))))))})),pa=a(34),fa=a(406),ha=a(724),ga=a(725),Ea=a(198),va=a(735),ya=a(249),Oa=a(90),ja=a(741),wa=a(728),Ca=a(736),xa=a(734),ka={borderColor:"orange",borderWidth:2},Sa=function(e){var t=e.attendees;return r.a.createElement(Ca.a,{horizontal:!0},t.map((function(e){return r.a.createElement(Ca.a.Item,{key:e.username},r.a.createElement(xa.a,{header:e.displayName,trigger:r.a.createElement(f.a,{size:"mini",circular:!0,src:e.image||"/assets/user.png",bordered:!0,style:e.following?ka:null})}))})))},Pa=function(e){var t=e.activity,a=t.attendees.filter((function(e){return e.isHost}))[0];return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,null,r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Image,{size:"tiny",circular:!0,src:a.image||"/assets/user.png",style:{marginBottom:3}}),r.a.createElement(va.a.Content,null,r.a.createElement(va.a.Content,null,r.a.createElement(va.a.Header,{as:m.a,to:"/activities/".concat(t.id)},t.title),r.a.createElement(va.a.Description,null,"Hosted by"," ",r.a.createElement(m.a,{to:"/profile/".concat(a.username)}," ",a.displayName)),t.isHost&&r.a.createElement(va.a.Description,null,r.a.createElement(Ea.a,{basic:!0,color:"orange",content:"You are hosting this activity"})),t.isGoing&&!t.isHost&&r.a.createElement(va.a.Description,null,r.a.createElement(Ea.a,{basic:!0,color:"green",content:"You are going to this activity"}))))))),r.a.createElement(ya.a,null,r.a.createElement(Oa.a,{name:"clock"})," ",Object(wa.a)(t.date,"h:mm:a"),r.a.createElement(Oa.a,{name:"marker"})," ",t.venue,", ",t.city),r.a.createElement(ya.a,{secondary:!0},r.a.createElement(Sa,{attendees:t.attendees})),r.a.createElement(ya.a,{clearing:!0},r.a.createElement("span",null,t.description),r.a.createElement(ja.a,{as:m.a,to:"/activities/".concat(t.id),floated:"right",content:"view",color:"blue"})))},za=Object(s.a)((function(){var e=Object(n.useContext)(da).activityStore.activitiesByDate;return r.a.createElement(n.Fragment,null,e.map((function(e){var t=Object(pa.a)(e,2),a=t[0],i=t[1];return r.a.createElement(n.Fragment,{key:a},r.a.createElement(Ea.a,{size:"large",color:"blue"},Object(wa.a)(Date.parse(a),"eeee do MMMM")),r.a.createElement(va.a.Group,{divided:!0},i.map((function(e){return r.a.createElement(Pa,{key:e.id,activity:e})}))))})))})),Ma=a(389),Aa=a.n(Ma),Ra=a(744),Ia=a(195),Fa=Object(s.a)((function(){var e=Object(n.useContext)(da).activityStore,t=e.predicate,a=e.setPredicate;return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{vertical:!0,size:"large",style:{width:"100%",marginTop:50}},r.a.createElement(Ra.a,{icon:"filter",attached:!0,color:"teal",content:"Filters"}),r.a.createElement(d.a.Item,{active:0===t.size,onClick:function(){return a("all","true")},color:"blue",name:"all",content:"All Activities"}),r.a.createElement(d.a.Item,{active:t.has("isGoing"),onClick:function(){return a("isGoing","true")},color:"blue",name:"username",content:"I have joined"}),r.a.createElement(d.a.Item,{active:t.has("isHost"),onClick:function(){return a("isHost","true")},color:"blue",name:"host",content:"I'm organizing"})),r.a.createElement(Ra.a,{icon:"calendar",attached:!0,color:"teal",content:"Select Date"}),r.a.createElement(Ia.Calendar,{onChange:function(e){return a("startDate",e)},value:t.get("startDate")||new Date}))})),Da=a(738),Ta=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Da.a,{fluid:!0,style:{marginTop:50}},r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{style:{minHeight:110}},r.a.createElement(Da.a,null,r.a.createElement(Da.a.Header,{image:!0},r.a.createElement(Da.a.Line,null),r.a.createElement(Da.a.Line,null)),r.a.createElement(Da.a.Paragraph,null,r.a.createElement(Da.a.Line,null)))),r.a.createElement(ya.a,null,r.a.createElement(Da.a,null,r.a.createElement(Da.a.Line,null),r.a.createElement(Da.a.Line,null))),r.a.createElement(ya.a,{secondary:!0,style:{minHeight:70}}),r.a.createElement(ya.a,{clearing:!0},r.a.createElement(ja.a,{disabled:!0,color:"blue",floated:"right",content:"View"})))))},Na=Object(s.a)((function(){var e=Object(n.useContext)(da).activityStore,t=e.loadActivities,a=e.loadingInitial,i=e.setPage,o=e.page,c=e.totalPages,l=Object(n.useState)(!1),u=Object(pa.a)(l,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:10},a&&0===o?r.a.createElement(Ta,null):r.a.createElement(Aa.a,{pageStart:0,loadMore:function(){m(!0),i(o+1),t().then((function(){return m(!1)}))},hasMore:!s&&o+1<c,initialLoad:!1},r.a.createElement(za,null))),r.a.createElement(fa.a.Column,{width:6},r.a.createElement(ha.a,{style:{marginRight:30,position:"fixed"}},r.a.createElement(Fa,null))),r.a.createElement(fa.a.Column,{width:10},r.a.createElement(ga.a,{active:s})))})),Ga=a(118),Ha=a(75),La=a(23),Ba=a(14),qa=a(729),Ua=a(739),Va=function(e){var t=e.error,a=e.text;return r.a.createElement(Ua.a,{error:!0},r.a.createElement(Ua.a.Header,null,t.statusText),t.data&&Object.keys(t.data.errors).length>0&&r.a.createElement(Ua.a.List,null,Object.values(t.data.errors).flat().map((function(e,t){return r.a.createElement(Ua.a.Item,{key:t},e)}))),a&&r.a.createElement(Ua.a.Content,{content:a}))},Wa=function(e){var t=e.input,a=e.width,n=e.type,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(qa.a.Field,{error:c&&!!l,type:n,width:a},r.a.createElement("input",Object.assign({},t,{placeholder:i})),c&&l&&r.a.createElement(Ea.a,{basic:!0,color:"red"},l))},Ya=Object(Ba.combineValidators)({email:Object(Ba.isRequired)("Email"),password:Object(Ba.isRequired)("Password")}),Ja=function(){var e=Object(n.useContext)(da).userStore.login;return r.a.createElement(La.b,{onSubmit:function(t){return e(t).catch((function(e){return Object(Ga.a)({},Ha.a,e)}))},validate:Ya,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitError,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(qa.a,{onSubmit:t,error:n},r.a.createElement(Ra.a,{as:"h2",content:"Login to Motoranza",color:"teal",textAlign:"center"}),r.a.createElement(La.a,{name:"email",component:Wa,placeholder:"Email"}),r.a.createElement(La.a,{name:"password",component:Wa,placeholder:"Password",type:"password"}),n&&!c&&r.a.createElement(Va,{error:n,text:"Invalid email address or password"}),r.a.createElement(ja.a,{disabled:i&&!c||o,loading:a,color:"teal",content:"Login",fluid:!0}))}})},Ka=Object(Ba.combineValidators)({username:Object(Ba.isRequired)("Username"),displayName:Object(Ba.isRequired)("DisplayName"),email:Object(Ba.isRequired)("Email"),password:Object(Ba.isRequired)("Password")}),Za=function(){var e=Object(n.useContext)(da).userStore.register;return r.a.createElement(La.b,{onSubmit:function(t){return e(t).catch((function(e){return Object(Ga.a)({},Ha.a,e)}))},validate:Ka,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.submitError,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(qa.a,{onSubmit:t,error:n},r.a.createElement(Ra.a,{as:"h2",content:"Sign up to Motoranza",color:"teal",textAlign:"center"}),r.a.createElement(La.a,{name:"username",component:Wa,placeholder:"Username"}),r.a.createElement(La.a,{name:"displayName",component:Wa,placeholder:"Display Name"}),r.a.createElement(La.a,{name:"email",component:Wa,placeholder:"Email"}),r.a.createElement(La.a,{name:"password",component:Wa,placeholder:"Password",type:"password"}),n&&!c&&r.a.createElement(Va,{error:n}),r.a.createElement(ja.a,{disabled:i&&!c||o,loading:a,color:"teal",content:"Register",fluid:!0}))}})},_a=function(){var e=window.localStorage.getItem("jwt"),t=Object(n.useContext)(da),a=t.userStore,i=a.isLoggedIn,o=a.user,c=t.modalStore.openModal;return r.a.createElement(ya.a,{inverted:!0,textAlign:"center",vertical:!0,className:"masthead"},r.a.createElement(u.a,{text:!0},r.a.createElement(Ra.a,{as:"h1",inverted:!0},r.a.createElement(f.a,{size:"massive",src:"/assets/logo.png",alt:"logo",style:{marginBottom:12}}),"MOTORANZA"),i&&o&&e?r.a.createElement(n.Fragment,null,r.a.createElement(Ra.a,{as:"h2",inverted:!0,content:"Welcome back to Motoranza ".concat(o.displayName)}),r.a.createElement(ja.a,{as:m.a,to:"/gallery",size:"huge",inverted:!0},"Enter Motoranza")):r.a.createElement(n.Fragment,null,r.a.createElement(Ra.a,{as:"h2",inverted:!0,content:"Welcome to Motoranza"}),r.a.createElement(ja.a,{onClick:function(){return c(r.a.createElement(Ja,null))},to:"/login",size:"huge",inverted:!0},"Login to Enter"),r.a.createElement(ja.a,{onClick:function(){return c(r.a.createElement(Za,null))},size:"huge",inverted:!0},"Register to Enter"))))},$a=a(123),Qa=function e(t){Object(h.a)(this,e),this.id=void 0,this.title="",this.category="",this.description="",this.date=void 0,this.time=void 0,this.city="",this.venue="",t&&t.date&&(t.time=t.date),Object.assign(this,t)},Xa=a(740),en=function(e){var t=e.input,a=e.width,n=e.rows,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(qa.a.Field,{error:c&&!!l,width:a},r.a.createElement("textarea",Object.assign({rows:n},t,{placeholder:i})),c&&l&&r.a.createElement(Ea.a,{basic:!0,color:"red"},l))},tn=a(726),an=function(e){var t=e.input,a=e.width,n=e.options,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return r.a.createElement(qa.a.Field,{error:c&&!!l,width:a},r.a.createElement(tn.a,{value:t.value,onChange:function(e,a){return t.onChange(a.value)},placeholder:i,options:n}),c&&l&&r.a.createElement(Ea.a,{basic:!0,color:"red"},l))},nn=[{key:"drinks",text:"Drinks",value:"drinks"},{key:"culture",text:"Culture",value:"culture"},{key:"film",text:"Film",value:"film"},{key:"food",text:"Food",value:"food"},{key:"music",text:"Music",value:"music"},{key:"travel",text:"Travel",value:"travel"}],rn=function(e){var t=e.input,a=e.width,n=e.placeholder,i=e.date,o=void 0!==i&&i,c=e.time,l=void 0!==c&&c,u=e.meta,s=u.touched,m=u.error,d=Object($a.a)(e,["input","width","placeholder","date","time","meta"]);return r.a.createElement(qa.a.Field,{error:s&&!!m,width:a},r.a.createElement(Ia.DateTimePicker,Object.assign({placeholder:n,value:t.value||null,onChange:t.onChange,onBlur:t.onBlur,onKeyDown:function(e){return e.preventDefault()},date:o,time:l},d)),s&&m&&r.a.createElement(Ea.a,{basic:!0,color:"red"},m))},on=Object(Ba.combineValidators)({title:Object(Ba.isRequired)({message:"The event title is required"}),category:Object(Ba.isRequired)("Category"),description:Object(Ba.composeValidators)(Object(Ba.isRequired)("Description"),Object(Ba.hasLengthGreaterThan)(4)({message:"Description needs to be at least 5 characters"}))(),city:Object(Ba.isRequired)("City"),venue:Object(Ba.isRequired)("Venue"),date:Object(Ba.isRequired)("Date"),time:Object(Ba.isRequired)("Time")}),cn=Object(s.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(da).activityStore,o=i.createActivity,c=i.editActivity,l=i.submitting,u=i.loadActivity,s=Object(n.useState)(new Qa),m=Object(pa.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)(!1),f=Object(pa.a)(p,2),h=f[0],g=f[1];Object(n.useEffect)((function(){t.params.id&&(g(!0),u(t.params.id).then((function(e){return b(new Qa(e))})).finally((function(){return g(!1)})))}),[u,t.params.id]);return r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:3}),r.a.createElement(fa.a.Column,{width:10},r.a.createElement(ya.a,{clearing:!0},r.a.createElement(La.b,{validate:on,initialValues:d,onSubmit:function(e){var t=function(e,t){var a=e.toISOString().split("T")[0],n=t.toISOString().split("T")[1];return new Date(a+"T"+n)}(e.date,e.time),a=(e.date,e.time,Object($a.a)(e,["date","time"]));if(a.date=t,a.id)c(a);else{var n=Object(oa.a)(Object(oa.a)({},a),{},{id:Object(Xa.a)()});o(n)}},render:function(e){var t=e.handleSubmit,n=e.invalid,i=e.pristine;return r.a.createElement(qa.a,{onSubmit:t,loading:h},r.a.createElement(La.a,{name:"title",placeholder:"Title",value:d.title,component:Wa}),r.a.createElement(La.a,{name:"description",placeholder:"Description",value:d.description,rows:3,component:en}),r.a.createElement(La.a,{name:"category",placeholder:"Category",options:nn,value:d.category,component:an}),r.a.createElement(qa.a.Group,{widths:"equal"},r.a.createElement(La.a,{component:rn,name:"date",date:!0,placeholder:"Date",value:d.date}),r.a.createElement(La.a,{component:rn,name:"time",time:!0,placeholder:"Time",value:d.time})),r.a.createElement(La.a,{name:"city",placeholder:"City",value:d.city,component:Wa}),r.a.createElement(La.a,{name:"venue",placeholder:"Venue",value:d.venue,component:Wa}),r.a.createElement(ja.a,{loading:l,disabled:h||n||i,floated:"right",positive:!0,type:"submit",content:"Submit"}),r.a.createElement(ja.a,{onClick:d.id?function(){return a.push("/activities/".concat(d.id))}:function(){return a.push("/activities")},disabled:h,floated:"right",type:"button",content:"Cancel"}))}}))),r.a.createElement(fa.a.Column,{width:3}))})),ln=function(e){var t=e.embracers;return r.a.createElement(Ca.a,{horizontal:!0},t.map((function(e){return r.a.createElement(Ca.a.Item,{key:e.username},r.a.createElement(xa.a,{header:e.displayName,trigger:r.a.createElement(f.a,{size:"mini",circular:!0,src:e.image||"/assets/user.png"})}))})))},un=function(e){var t=e.motofy,a=t.embracers.filter((function(e){return e.isOwner}))[0]||"unknown testing";return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Group,null,r.a.createElement(va.a.Image,{size:"big",bordered:!0,src:t.photoUrl,centered:!0})),r.a.createElement(va.a.Content,null,r.a.createElement(va.a.Header,{as:m.a,to:"/gallery/".concat(t.id)},t.name),r.a.createElement(f.a,{size:"mini",src:"/assets/brandImages/".concat(t.brand,".png")}),r.a.createElement(Ea.a,{basic:!0,content:t.brand}),r.a.createElement(va.a.Description,null,"Owned by ",a.displayName||"unknown"),t.isOwner&&r.a.createElement(va.a.Description,null,r.a.createElement(Ea.a,{basic:!0,color:"orange",content:"You are owner of this motofy"})),t.embraced&&!t.isOwner&&r.a.createElement(va.a.Description,null,r.a.createElement(Ea.a,{basic:!0,color:"green",content:"You embraced this motofy"})),r.a.createElement(va.a.Extra,null)))),r.a.createElement(ya.a,null,r.a.createElement(Oa.a,{name:"clock"})," ",t.datePublished,r.a.createElement(Oa.a,{name:"marker"})," ",t.city,", ",t.country),r.a.createElement(ya.a,null,r.a.createElement(Oa.a,{name:"motorcycle"})," ",t.model," /",r.a.createElement(Oa.a,{name:"flag checkered"})," ",t.cubicCentimeters," cc"),r.a.createElement(ya.a,{secondary:!0},r.a.createElement(ln,{embracers:t.embracers})),r.a.createElement(ya.a,{clearing:!0},r.a.createElement("span",null,t.description),r.a.createElement(ja.a,{as:m.a,to:"/gallery/".concat(t.id),floated:"right",content:"View",color:"blue"})))},sn=Object(s.a)((function(){var e=Object(n.useContext)(da).motofyStore.motofiesByDate;return r.a.createElement(ya.a,{secondary:!0},r.a.createElement(va.a.Group,{divided:!0},e.map((function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(Ea.a,{size:"large",color:"blue"},r.a.createElement("span",null,"Name:")," ",e.name),r.a.createElement(un,{motofy:e}))}))))})),mn=a(743),dn=function(e){var t=e.inverted,a=void 0===t||t,n=e.content;return r.a.createElement(mn.a,{active:!0,inverted:a},r.a.createElement(ga.a,{content:n}))},bn=Object(s.a)((function(){var e=Object(n.useContext)(da).motofyStore,t=e.loadMotofies,a=e.loadingInitial;return Object(n.useEffect)((function(){t()}),[t]),a?r.a.createElement(dn,{content:"Loading motofies..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:10},r.a.createElement(sn,null)),r.a.createElement(fa.a.Column,{width:6},r.a.createElement("h2",null,"Motofy filters placholder")))})),pn=function(e){var t=e.mechanic;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Group,null,r.a.createElement(Ea.a,{basic:!0,content:t.city}),r.a.createElement(va.a,null,r.a.createElement(va.a.Image,{size:"tiny",circular:!0,src:t.photoUrl}),r.a.createElement(va.a.Content,null,r.a.createElement(va.a.Header,{as:"a"},t.name),r.a.createElement(va.a.Description,null,"Posted by Bob")))))),r.a.createElement(ya.a,null,r.a.createElement(Oa.a,{name:"clock outline"})," ",t.datePublished),r.a.createElement(ya.a,{clearing:!0},r.a.createElement("span",null,r.a.createElement(Oa.a,{name:"sitemap"})," ",t.description)),r.a.createElement(ya.a,{clearing:!0},r.a.createElement(Oa.a,{name:"envelope outline"})," ",t.city,", ",t.country,",",t.address,r.a.createElement(ja.a,{as:m.a,to:"/mechanics/".concat(t.id),floated:"right",content:"View",color:"blue"})))},fn=Object(s.a)((function(){var e=Object(n.useContext)(da).mechanicStore.mechanicsByDate;return r.a.createElement(ya.a,{clearing:!0},r.a.createElement(va.a.Group,{divided:!0},e.map((function(e){return r.a.createElement(pn,{mechanic:e,key:e.id})}))))})),hn=Object(s.a)((function(){var e=Object(n.useContext)(da).mechanicStore,t=e.loadMechanics,a=e.loadingInitial;return Object(n.useEffect)((function(){t()}),[t]),a?r.a.createElement(dn,{content:"Loading mechanics..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:10},r.a.createElement(fn,null)),r.a.createElement(fa.a.Column,{width:6},r.a.createElement(ha.a,{style:{marginRight:30,position:"fixed"}},r.a.createElement("h2",null,"Mechanic filters go here"))))})),gn=a(733),En=a(731),vn=Object(s.a)((function(){var e=Object(n.useContext)(da).activityStore,t=e.createHubConnection,a=e.stopHubConnection,i=e.addComment,o=e.activity;return Object(n.useEffect)((function(){return t(o.id),function(){a()}}),[t,a,o]),r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"}},r.a.createElement(Ra.a,null,"Chat about this event")),r.a.createElement(ya.a,{attached:!0},r.a.createElement(gn.a.Group,null,o&&o.comments&&o.comments.map((function(e){return r.a.createElement(gn.a,{key:e.id},r.a.createElement(gn.a.Avatar,{src:e.image||"/assets/user.png"}),r.a.createElement(gn.a.Content,null,r.a.createElement(gn.a.Author,{as:m.a,to:"/profile/".concat(e.username)},e.displayName),r.a.createElement(gn.a.Metadata,null,r.a.createElement("div",null,Object(En.a)(new Date(e.createdAt),new Date))),r.a.createElement(gn.a.Text,null,e.body)))})),r.a.createElement(La.b,{onSubmit:i,render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.form;return r.a.createElement(qa.a,{onSubmit:function(){return t().then((function(){return n.reset()}))}},r.a.createElement(La.a,{name:"body",component:en,rows:2,placeholder:"Add your comment"}),r.a.createElement(ja.a,{content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0,loading:a}))}}))))})),yn={filter:"brightness(30%)"},On={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},jn=Object(s.a)((function(e){var t=e.activity,a=t.attendees.filter((function(e){return e.isHost}))[0],i=Object(n.useContext)(da).activityStore,o=i.attendActivity,c=i.cancelAttendance,l=i.loading;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{basic:!0,attached:"top",style:{padding:"0"}},r.a.createElement(f.a,{src:"/assets/categoryImages/".concat(t.category,".jpg"),fluid:!0,style:yn}),r.a.createElement(ya.a,{basic:!0,style:On},r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Content,null,r.a.createElement(Ra.a,{size:"huge",content:t.title,style:{color:"white"}}),r.a.createElement("p",null,Object(wa.a)(t.date,"eeee do MMMM")),r.a.createElement("p",null,"Hosted by"," ",r.a.createElement(m.a,{to:"/profile/".concat(a.username)},r.a.createElement("strong",null,a.displayName)))))))),r.a.createElement(ya.a,{clearing:!0,attached:"bottom"},t.isHost?r.a.createElement(ja.a,{as:m.a,to:"/manage/".concat(t.id),color:"orange",floated:"right"},"Manage Ridding Route"):t.isGoing?r.a.createElement(ja.a,{loading:l,onClick:c},"Cancel your place"):r.a.createElement(ja.a,{loading:l,onClick:o,color:"teal"},"Join Us")))})),wn=function(e){var t=e.activity;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{attached:"top"},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{size:"large",color:"teal",name:"info"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("p",null,t.description)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"calendar",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("span",null,Object(wa.a)(t.date,"eeee do MMMM")," at  ",Object(wa.a)(t.date,"h:mm a"))))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"marker",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,t.venue,", ",t.city)))))},Cn=Object(s.a)((function(e){var t=e.attendees;return r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal"},t.length," ",1===t.length?"Person":"People "," Going"),r.a.createElement(ya.a,{attached:!0},r.a.createElement(Ca.a,{relaxed:!0,divided:!0},t.map((function(e){return r.a.createElement(va.a,{key:e.username,style:{position:"relative"}},e.isHost&&r.a.createElement(Ea.a,{style:{position:"absolute"},color:"orange",ribbon:"right"},"Host"),r.a.createElement(f.a,{size:"tiny",src:e.image||"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"/profile/".concat(e.username)},e.displayName)),e.following&&r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Following")))})))))})),xn=Object(s.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(da).activityStore,o=i.activity,c=i.loadActivity,l=i.loadingInitial;return Object(n.useEffect)((function(){c(t.params.id)}),[c,t.params.id,a]),l?r.a.createElement(dn,{content:"Loading activity..."}):o?r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:10},r.a.createElement(jn,{activity:o}),r.a.createElement(wn,{activity:o}),r.a.createElement(vn,null)),r.a.createElement(fa.a.Column,{width:6},r.a.createElement(Cn,{attendees:o.attendees}))):r.a.createElement("h2",null,"Not found")})),kn=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("p",null,"This section will make possible for all our members to sell and buy products. It is is coming soon."),r.a.createElement("p",null,"You are the most awesome crowd ever!"),r.a.createElement("p",null,"Thank you so much for you patience.")))},Sn=function(){return r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:2}),r.a.createElement(fa.a.Column,{width:14},r.a.createElement(kn,null)),r.a.createElement(fa.a.Column,{width:2}))},Pn=function(){return r.a.createElement("div",null)},zn=function(){return r.a.createElement(ya.a,{placeholder:!0},r.a.createElement(Ra.a,{icon:!0},r.a.createElement(Oa.a,{name:"search"}),"Oops - we've looked everywhere but couldn't find this."),r.a.createElement(ya.a.Inline,null,r.a.createElement(ja.a,{as:m.a,to:"/activities",primary:!0},"Return to Activities page")))},Mn=a(730),An=Object(s.a)((function(){var e=Object(n.useContext)(da).modalStore,t=e.modal,a=t.open,i=t.body,o=e.closeModal;return r.a.createElement(Mn.a,{open:a,onClose:o,size:"mini"},r.a.createElement(Mn.a.Content,null,i))})),Rn=a(747),In=a(737),Fn=a(403),Dn={border:"dashed 3px",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",textAlign:"center",height:"200px"},Tn={borderColor:"green"},Nn=function(e){var t=e.setFiles,a=Object(n.useCallback)((function(e){t(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[t]),i=Object(Fn.a)({onDrop:a}),o=i.getRootProps,c=i.getInputProps,l=i.isDragActive;return r.a.createElement("div",Object.assign({},o(),{style:l?Object(oa.a)(Object(oa.a)({},Dn),Tn):Dn}),r.a.createElement("input",c()),r.a.createElement(Oa.a,{name:"upload",size:"huge"}),r.a.createElement(Ra.a,{content:"Drop \\n image here"}))},Gn=a(400),Hn=a.n(Gn),Ln=(a(683),function(e){var t=e.setImage,a=e.imagePreview,i=Object(n.useRef)(null);return r.a.createElement(Hn.a,{ref:i,src:a,style:{height:200,width:"100%"},initialAspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,dragMode:"move",scalable:!0,cropBoxMovable:!0,cropBoxResizable:!0,crop:function(){i.current&&"undefined"===typeof i.current.getCroppedCanvas()||i&&i.current&&i.current.getCroppedCanvas().toBlob((function(e){t(e)}),"image/jpeg")}})}),Bn=Object(s.a)((function(e){var t=e.loading,a=e.uploadPhoto,i=Object(n.useState)([]),o=Object(pa.a)(i,2),c=o[0],l=o[1],u=Object(n.useState)(null),s=Object(pa.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}})),r.a.createElement(n.Fragment,null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:4},r.a.createElement(Ra.a,{color:"teal",sub:!0,content:"Step 1 - Add Photo"}),r.a.createElement(Nn,{setFiles:l})),r.a.createElement(fa.a.Column,{width:1}),r.a.createElement(fa.a.Column,{width:4},r.a.createElement(Ra.a,{sub:!0,color:"teal",content:"Step 2 - Resize image"}),c.length>0&&r.a.createElement(Ln,{setImage:d,imagePreview:c[0].preview})),r.a.createElement(fa.a.Column,{width:1}),r.a.createElement(fa.a.Column,{width:4},r.a.createElement(Ra.a,{sub:!0,color:"teal",content:"Step 3 - Preview & Upload"}),c.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"img-preview",style:{minHeight:"200px",overflow:"hidden"}}),r.a.createElement(ja.a.Group,{widths:2},r.a.createElement(ja.a,{positive:!0,icon:"check",loading:t,onClick:function(){return a(m)}}),r.a.createElement(ja.a,{icon:"close",disabled:t,onClick:function(){return l([])}}))))))})),qn=Object(s.a)((function(){var e=Object(n.useContext)(da).profileStore,t=e.profile,a=e.isCurrentUser,i=e.uploadPhoto,o=e.uploadingPhoto,c=e.setMainPhoto,l=e.loading,u=e.deletePhoto,s=Object(n.useState)(!0),m=Object(pa.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)(void 0),h=Object(pa.a)(p,2),g=h[0],E=h[1],v=Object(n.useState)(void 0),y=Object(pa.a)(v,2),O=y[0],j=y[1];return r.a.createElement(Rn.a.Pane,null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:16,style:{paddingBottom:0}},r.a.createElement(Ra.a,{floated:"left",icon:"image",content:"Photos"}),a&&r.a.createElement(ja.a,{floated:"right",basic:!0,content:d?"Cancel":"Add Photo",onClick:function(){return b(!d)}})),r.a.createElement(fa.a.Column,{width:16},d?r.a.createElement(Bn,{uploadPhoto:function(e){i(e).then((function(){return b(!1)}))},loading:o}):r.a.createElement(In.a.Group,{itemsPerRow:5},t&&t.photos.map((function(e){return r.a.createElement(In.a,{key:e.id},r.a.createElement(f.a,{src:e.url}),a&&r.a.createElement(ja.a.Group,{fluid:!0,widths:2},r.a.createElement(ja.a,{name:e.id,basic:!0,positive:!0,content:"Main",onClick:function(t){c(e),E(t.currentTarget.name)},disabled:e.isMain,loading:l&&g===e.id}),r.a.createElement(ja.a,{name:e.id,disabled:e.isMain,onClick:function(t){u(e),j(t.currentTarget.name)},loading:l&&O===e.id,basic:!0,negative:!0,icon:"trash"})))}))))))})),Un=Object(Ba.combineValidators)({displayName:Object(Ba.isRequired)("displayName")}),Vn=Object(s.a)((function(e){var t=e.updateProfile,a=e.profile;return r.a.createElement(La.b,{onSubmit:t,validate:Un,initialValues:a,render:function(e){var t=e.handleSubmit,n=e.invalid,i=e.pristine,o=e.submitting;return r.a.createElement(qa.a,{onSubmit:t,error:!0},r.a.createElement(La.a,{name:"displayName",component:Wa,placeholder:"Display Name",value:a.displayName}),r.a.createElement(La.a,{name:"bio",component:en,rows:3,placeholder:"Bio",value:a.bio}),r.a.createElement(ja.a,{loading:o,floated:"right",disabled:n||i,positive:!0,content:"Update profile"}))}})})),Wn=Object(s.a)((function(){var e=Object(n.useContext)(da).profileStore,t=e.updateProfile,a=e.profile,i=e.isCurrentUser,o=Object(n.useState)(!1),c=Object(pa.a)(o,2),l=c[0],u=c[1];return r.a.createElement(Rn.a.Pane,null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:16},r.a.createElement(Ra.a,{floated:"left",icon:"user",content:"About ".concat(a.displayName)}),i&&r.a.createElement(ja.a,{floated:"right",basic:!0,content:l?"Cancel":"Edit Profile",onClick:function(){return u(!l)}})),r.a.createElement(fa.a.Column,{width:16},l?r.a.createElement(Vn,{updateProfile:t,profile:a}):r.a.createElement("span",null,a.bio))))})),Yn=function(e){var t=e.profile;return r.a.createElement(In.a,{as:m.a,to:"/profile/".concat(t.username)},r.a.createElement(f.a,{src:t.image||"/assets/user.png"}),r.a.createElement(In.a.Content,null,r.a.createElement(In.a.Header,null,t.displayName||"display name")),r.a.createElement(In.a.Content,{extra:!0},r.a.createElement("div",null,r.a.createElement(Oa.a,{name:"user"}),t.followersCount," Followers")))},Jn=function(){var e=Object(n.useContext)(da).profileStore,t=e.profile,a=e.followings,i=e.loading,o=e.activeTab;return r.a.createElement(Rn.a.Pane,{loading:i},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:16},r.a.createElement(Ra.a,{floated:"left",icon:"user",content:3===o?"People following ".concat(t.displayName):"People ".concat(t.displayName," is following")})),r.a.createElement(fa.a.Column,{width:16},r.a.createElement(In.a.Group,{itemsPerRow:5},a.map((function(e){return r.a.createElement(Yn,{key:e.username,profile:e})}))))))},Kn=[{menuItem:"Future Events",pane:{key:"futureEvents"}},{menuItem:"Past Events",pane:{key:"pastEvents"}},{menuItem:"Hosting",pane:{key:"hosted"}}],Zn=Object(s.a)((function(){var e=Object(n.useContext)(da).profileStore,t=e.loadUserActivities,a=e.profile,i=e.loadingActivities,o=e.userActivities;Object(n.useEffect)((function(){t(a.username)}),[t,a]);return r.a.createElement(Rn.a.Pane,{loading:i},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:16},r.a.createElement(Ra.a,{floated:"left",icon:"calendar",content:"Activities"})),r.a.createElement(fa.a.Column,{width:16},r.a.createElement(Rn.a,{panes:Kn,menu:{secondary:!0,pointing:!0},onTabChange:function(e,n){return function(e,n){var r;switch(n.activeIndex){case 1:r="past";break;case 2:r="hosting";break;default:r="future"}t(a.username,r)}(0,n)}}),r.a.createElement("br",null),r.a.createElement(In.a.Group,{itemsPerRow:4},o.map((function(e){return r.a.createElement(In.a,{as:m.a,to:"/activities/".concat(e.id),key:e.id},r.a.createElement(f.a,{src:"/assets/categoryImages/".concat(e.category,".jpg"),style:{minHeight:100,objectFit:"cover"}}),r.a.createElement(In.a.Content,null,r.a.createElement(In.a.Header,{textAlign:"center"},e.title),r.a.createElement(In.a.Meta,{textAlign:"center"},r.a.createElement("div",null,Object(wa.a)(new Date(e.date),"do LLL")),r.a.createElement("div",null,Object(wa.a)(new Date(e.date),"h:mm a")))))}))))))})),_n=[{menuItem:"About",render:function(){return r.a.createElement(Wn,null)}},{menuItem:"Photos",render:function(){return r.a.createElement(qn,null)}},{menuItem:"Riding Sessions",render:function(){return r.a.createElement(Zn,null)}},{menuItem:"Followers",render:function(){return r.a.createElement(Jn,null)}},{menuItem:"Followings",render:function(){return r.a.createElement(Jn,null)}}],$n=function(e){var t=e.setActiveTab;return r.a.createElement(Rn.a,{menu:{fluid:!0,vertical:!0},menuPosition:"right",panes:_n,onTabChange:function(e,a){return t(a.activeIndex)}})},Qn=a(742),Xn=a(727),er=a(748),tr=Object(s.a)((function(e){var t=e.profile,a=e.isCurrentUser,n=e.loading,i=e.follow,o=e.unfollow;return r.a.createElement(ya.a,null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:12},r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Image,{avatar:!0,size:"small",src:t.image||"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(Ra.a,{as:"h1"},t.displayName))))),r.a.createElement(fa.a.Column,{width:4},r.a.createElement(Qn.a.Group,{widths:2},r.a.createElement(Qn.a,{label:"Followers",value:t.followersCount}),r.a.createElement(Qn.a,{label:"Following",value:t.followingCount})),r.a.createElement(Xn.a,null),!a&&r.a.createElement(er.a,{animated:"move"},r.a.createElement(er.a.Content,{visible:!0,style:{width:"100%"}},r.a.createElement(ja.a,{fluid:!0,color:"teal",content:t.following?"Following":"Not following"})),r.a.createElement(er.a.Content,{hidden:!0},r.a.createElement(ja.a,{loading:n,fluid:!0,basic:!0,color:t.following?"red":"green",content:t.following?"Unfollow":"Follow",onClick:t.following?function(){return o(t.username)}:function(){return i(t.username)}}))))))})),ar=Object(s.a)((function(e){var t=e.match,a=Object(n.useContext)(da).profileStore,i=a.profile,o=a.loadingProfile,c=a.loadProfile,l=a.follow,u=a.unfollow,s=a.isCurrentUser,m=a.loading,d=a.setActiveTab;return Object(n.useEffect)((function(){c(t.params.username)}),[c,t]),o?r.a.createElement(dn,{content:"Loading profile..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:16},r.a.createElement(tr,{profile:i,isCurrentUser:s,follow:l,unfollow:u,loading:m}),r.a.createElement($n,{setActiveTab:d})))})),nr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"}},r.a.createElement(Ra.a,null,"Chat about this event")),r.a.createElement(ya.a,{attached:!0},r.a.createElement(gn.a.Group,null,r.a.createElement(gn.a,null,r.a.createElement(gn.a.Avatar,{src:"/assets/user.png"}),r.a.createElement(gn.a.Content,null,r.a.createElement(gn.a.Author,{as:"a"},"Matt"),r.a.createElement(gn.a.Metadata,null,r.a.createElement("div",null,"Today at 5:42PM")),r.a.createElement(gn.a.Text,null,"How artistic!"),r.a.createElement(gn.a.Actions,null,r.a.createElement(gn.a.Action,null,"Reply")))),r.a.createElement(gn.a,null,r.a.createElement(gn.a.Avatar,{src:"/assets/user.png"}),r.a.createElement(gn.a.Content,null,r.a.createElement(gn.a.Author,{as:"a"},"Joe Henderson"),r.a.createElement(gn.a.Metadata,null,r.a.createElement("div",null,"5 days ago")),r.a.createElement(gn.a.Text,null,"Dude, this is awesome. Thanks so much"),r.a.createElement(gn.a.Actions,null,r.a.createElement(gn.a.Action,null,"Reply")))),r.a.createElement(qa.a,{reply:!0},r.a.createElement(qa.a.TextArea,null),r.a.createElement(ja.a,{content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0})))))},rr={filter:"brightness(90%)"},ir={position:"absolute",top:"50%",left:"5%",width:"100%",height:"auto",color:"white"},or=Object(s.a)((function(e){var t=e.motofy,a=Object(n.useContext)(da).motofyStore,i=a.embraceMotofy,o=a.unembraceMotofy,c=a.loading;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{basic:!0,attached:"top",style:{padding:"0"}},r.a.createElement(f.a,{src:t.photoUrl||"/assets/placeholder.png",fluid:!0,style:rr}),r.a.createElement(ya.a,{basic:!0,style:ir},r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Content,null,r.a.createElement(Ra.a,{size:"large",content:t.name,style:{color:"white"}}),r.a.createElement("p",null,"Published on ",t.datePublished),r.a.createElement("p",null,"By ",r.a.createElement("strong",null,"Bob"))))))),r.a.createElement(ya.a,{clearing:!0,attached:"bottom"},t.isOwner?r.a.createElement(ja.a,{as:m.a,to:"/manageGallery/".concat(t.id),color:"orange",floated:"right"},"Manage"):t.embraced?r.a.createElement(ja.a,{loading:c,onClick:o},"Maybe not..."):r.a.createElement(ja.a,{loading:c,onClick:i,color:"teal"},"Embrace")))})),cr=a(749),lr=function(){return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,null,r.a.createElement(cr.a,{icon:"star",defaultRating:1,maxRating:5})))},ur=Object(s.a)((function(e){var t=e.embracers;return r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal"},t.length," ",1===t.length?"Person":"People "," ","embraced"),r.a.createElement(ya.a,{attached:!0},r.a.createElement(Ca.a,{relaxed:!0,divided:!0},t.map((function(e){return r.a.createElement(va.a,{key:e.username,style:{position:"relative"}},e.isOwner&&r.a.createElement(Ea.a,{style:{position:"absolute"},color:"orange",ribbon:"right"},"Owner"),r.a.createElement(f.a,{size:"tiny",src:e.image||"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"/profile/".concat(e.username)},e.displayName)),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Following")))})))))})),sr=function(e){var t=e.motofy;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{attached:"top"},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:1},r.a.createElement(f.a,{size:"mini",src:"/assets/brandImages/".concat(t.brand,".png")})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("p",null,r.a.createElement("strong",null,t.brand," - ")," ",t.model)))),r.a.createElement(ya.a,{attached:"top"},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{size:"large",color:"teal",name:"info"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("p",null,t.description)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"calendar",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("span",null,"Made ",t.yearOfProduction)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"marker",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"In ",t.city,", ",t.country)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"motorcycle",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null," ","Engine ",t.cubicCentimeters,"cc, done"," ",t.numberOfKilometers," kilometers")))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"euro sign",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null," ","Price paid ",t.pricePaid," Euro, present value"," ",t.estimatedValue," Euro")))))},mr=Object(s.a)((function(e){var t=e.match,a=Object(n.useContext)(da).motofyStore,i=a.motofy,o=a.loadMotofy,c=a.loadingInitial;return Object(n.useEffect)((function(){o(t.params.id)}),[o,t.params.id]),c||!i?r.a.createElement(dn,{content:"Loading motofies..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:12},r.a.createElement(or,{motofy:i}),r.a.createElement(lr,null),r.a.createElement(sr,{motofy:i}),r.a.createElement(nr,null)),r.a.createElement(fa.a.Column,{width:4},r.a.createElement(ur,{embracers:i.embracers})))})),dr=function(e){var t=e.forumpost;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Image,{size:"tiny",src:"/assets/forumCategoryImages/".concat(t.category,".jpg")}),r.a.createElement(va.a.Content,null,r.a.createElement(va.a.Header,{as:"a"},t.title),r.a.createElement(va.a.Meta,null,t.dateAdded),r.a.createElement(va.a.Description,null,"Posted by Bob"),r.a.createElement(va.a.Description,null,r.a.createElement("div",null,t.body)),r.a.createElement(va.a.Description,null,r.a.createElement("div",null,"Just to compare ",t.id)),r.a.createElement(va.a.Extra,null,r.a.createElement(ja.a,{as:m.a,to:"/forum/".concat(t.id),floated:"right",content:"view",color:"blue"}),r.a.createElement(Ea.a,{basic:!0,content:t.category}))))),r.a.createElement(ya.a,null,r.a.createElement(Oa.a,{name:"clock"})," ",t.dateAdded),r.a.createElement(ya.a,{secondary:!0},"12 Responses from 3 Members"))},br=Object(s.a)((function(){var e=Object(n.useContext)(da).forumPostStore.forumpostsByDate;return r.a.createElement(n.Fragment,null,e.map((function(e){var t=Object(pa.a)(e,2),a=t[0],i=t[1];return r.a.createElement(n.Fragment,{key:a},r.a.createElement(Ea.a,{size:"large",color:"blue"},"Posted on ",a),r.a.createElement(ya.a,{clearing:!0},r.a.createElement(va.a.Group,{divided:!0},i.map((function(e){return r.a.createElement(dr,{forumpost:e,key:e.id})})))))})))})),pr=Object(s.a)((function(){var e=Object(n.useContext)(da).forumPostStore,t=e.loadForumPosts,a=e.loadingInitial;return Object(n.useEffect)((function(){t()}),[t]),a?r.a.createElement(dn,{content:"Loading forum posts..."}):r.a.createElement("div",null,r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:10},r.a.createElement(br,null)),r.a.createElement(fa.a.Column,{width:6},r.a.createElement("h2",null,"Forum post filters will come here"))))})),fr=function e(t){Object(h.a)(this,e),this.id=void 0,this.title="",this.body="",this.dateAdded="",this.category="",t&&Object.assign(this,t)},hr=[{key:"Offer information",text:"Offer information",value:"Offer information"},{key:"Ask for assistance",text:"Ask for assistance",value:"Ask for assistance"},{key:"Ask for advice",text:"Ask for advice",value:"Ask for advice"}],gr=Object(Ba.combineValidators)({title:Object(Ba.isRequired)({message:"The event title is required"}),category:Object(Ba.isRequired)("Category"),body:Object(Ba.composeValidators)(Object(Ba.isRequired)("Body"),Object(Ba.hasLengthGreaterThan)(4)({message:"Body needs to be at least 5 characters"}))()}),Er=Object(s.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(da).forumPostStore,o=i.createForumpost,c=i.editForumpost,l=i.submitting,u=i.loadForumPost,s=Object(n.useState)(new fr),m=Object(pa.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)(!1),f=Object(pa.a)(p,2),h=f[0],g=f[1];Object(n.useEffect)((function(){t.params.id&&(g(!0),u(t.params.id).then((function(e){return b(new fr(e))})).finally((function(){return g(!1)})))}),[u,t.params.id]);return r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:3}),r.a.createElement(fa.a.Column,{width:10},r.a.createElement(ya.a,{clearing:!0},r.a.createElement(La.b,{validate:gr,initialValues:d,onSubmit:function(e){var t=Object.assign({},e);if(t.id)c(t);else{var a=Object(oa.a)(Object(oa.a)({},t),{},{id:Object(Xa.a)(),dateAdded:(new Date).toISOString()});o(a)}},render:function(e){var t=e.handleSubmit,n=e.invalid,i=e.pristine;return r.a.createElement(qa.a,{onSubmit:t,loading:h},r.a.createElement(La.a,{name:"title",placeholder:"title",value:d.title,component:Wa}),r.a.createElement(La.a,{name:"body",rows:4,placeholder:"body",value:d.body,component:en}),r.a.createElement(La.a,{name:"category",placeholder:"category",options:hr,value:d.category,component:an}),r.a.createElement(ja.a,{loading:l,disabled:h||n||i,floated:"right",positive:!0,type:"submit",content:"submit"}),r.a.createElement(ja.a,{floated:"right",disabled:h,type:"button",content:"cancel",onClick:d.id?function(){return a.push("/forum/".concat(d.id))}:function(){return a.push("/forum")}}))}}))))})),vr=Object(s.a)((function(e){e.forumpost;return r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"}},r.a.createElement(Ra.a,null,"Comments")),r.a.createElement(ya.a,{attached:!0},r.a.createElement(gn.a.Group,null,r.a.createElement(gn.a,null,r.a.createElement(gn.a.Avatar,{src:"/assets/user.png"}),r.a.createElement(gn.a.Content,null,r.a.createElement(gn.a.Author,{as:"a"},"Matt"),r.a.createElement(gn.a.Metadata,null,r.a.createElement("div",null,"Today at 5:42PM")),r.a.createElement(gn.a.Text,null,"How artistic!"),r.a.createElement(gn.a.Actions,null,r.a.createElement(gn.a.Action,null,"Reply")))),r.a.createElement(gn.a,null,r.a.createElement(gn.a.Avatar,{src:"/assets/user.png"}),r.a.createElement(gn.a.Content,null,r.a.createElement(gn.a.Author,{as:"a"},"Joe Henderson"),r.a.createElement(gn.a.Metadata,null,r.a.createElement("div",null,"5 days ago")),r.a.createElement(gn.a.Text,null,"Dude, this is awesome. Thanks so much"),r.a.createElement(gn.a.Actions,null,r.a.createElement(gn.a.Action,null,"Reply")))),r.a.createElement(qa.a,{reply:!0},r.a.createElement(qa.a.TextArea,null),r.a.createElement(ja.a,{content:"Add Reply",labelPosition:"left",icon:"edit",color:"teal"})))))})),yr={filter:"brightness(90%)"},Or={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},jr=Object(s.a)((function(e){var t=e.forumpost;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{basic:!0,attached:"top",style:{padding:"0"}},r.a.createElement(f.a,{src:"/assets/forumCategoryImages/".concat(t.category,".jpg"),fluid:!0,style:yr}),r.a.createElement(ya.a,{basic:!0,style:Or},r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Content,null,r.a.createElement(Ra.a,{size:"huge",content:t.title,style:{color:"white"}}),r.a.createElement("p",null,t.category),r.a.createElement("p",null,t.dateAdded),r.a.createElement("p",null,"Posted by ",r.a.createElement("strong",null,"Bob"))))))),r.a.createElement(ya.a,{clearing:!0,attached:"bottom"},r.a.createElement(ja.a,{as:m.a,to:"/manageForum/".concat(t.id),color:"orange",floated:"left"},"Manage Your Post")))})),wr=Object(s.a)((function(e){var t=e.forumpost;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{attached:"top"},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{size:"large",color:"teal",name:"info"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("p",null,"Title: ",t.title)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"calendar",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("span",null,"Posted on: ",t.dateAdded)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"marker",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"Category: ",t.category)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:16},r.a.createElement("span",null,t.body)))))})),Cr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal"},"3 people participating"),r.a.createElement(ya.a,{attached:!0},r.a.createElement(Ca.a,{relaxed:!0,divided:!0},r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Bob")),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Following"))),r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Tom")),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Following"))),r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Sally")))))))},xr=Object(s.a)((function(e){var t=e.match,a=Object(n.useContext)(da).forumPostStore,i=a.forumpost,o=a.loadForumPost,c=a.loadingInitial;return Object(n.useEffect)((function(){o(t.params.id)}),[o,t.params.id]),c||!i?r.a.createElement(dn,{content:"Loading forum post details..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:12},r.a.createElement(wr,{forumpost:i}),r.a.createElement(vr,{forumpost:i})),r.a.createElement(fa.a.Column,{width:4},r.a.createElement(jr,{forumpost:i}),r.a.createElement(Cr,null)))})),kr={filter:"brightness(90%) contrast(50%) drop-shadow(4px 4px 8px teal)"},Sr={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},Pr=Object(s.a)((function(e){var t=e.mechanic;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{basic:!0,attached:"top",style:{padding:"0"}},r.a.createElement(f.a,{src:t.photoUrl||"/assets/placeholder.png",fluid:!0,style:kr}),r.a.createElement(ya.a,{basic:!0,style:Sr},r.a.createElement(va.a.Group,null,r.a.createElement(va.a,null,r.a.createElement(va.a.Content,null,r.a.createElement(Ra.a,{size:"huge",content:t.name,style:{color:"white"}}),r.a.createElement("p",null,"Working since ",t.yearOfStart),r.a.createElement("p",null,"Posted by ",r.a.createElement("strong",null,"Bob"))))))),r.a.createElement(ya.a,{clearing:!0,attached:"bottom"},r.a.createElement(ja.a,{as:m.a,to:"/manageMechanic/".concat(t.id),color:"orange",floated:"right"},"Manage Post")))})),zr=Object(s.a)((function(e){var t=e.mechanic;return r.a.createElement(ya.a.Group,null,r.a.createElement(ya.a,{attached:"top"},r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{size:"large",color:"teal",name:"info"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("p",null,t.description)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"calendar",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:15},r.a.createElement("span",null,"Since ",t.yearOfStart)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"address card",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,t.city,", ",t.country,", ",t.address)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"tty",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"Phone number: ",t.phone)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"envelope open",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"Email address: ",t.email)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"internet explorer",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"Website: ",t.website)))),r.a.createElement(ya.a,{attached:!0},r.a.createElement(fa.a,{verticalAlign:"middle"},r.a.createElement(fa.a.Column,{width:1},r.a.createElement(Oa.a,{name:"calendar check outline",size:"large",color:"teal"})),r.a.createElement(fa.a.Column,{width:11},r.a.createElement("span",null,"Published on ",t.datePublished)))))})),Mr=function(){return r.a.createElement("div",null,r.a.createElement(n.Fragment,null,r.a.createElement(ya.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal"},"3 People are customers of this shop"),r.a.createElement(ya.a,{attached:!0},r.a.createElement(Ca.a,{relaxed:!0,divided:!0},r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Bob")),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Customer"))),r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Tom")),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Customer"))),r.a.createElement(va.a,{style:{position:"relative"}},r.a.createElement(f.a,{size:"tiny",src:"/assets/user.png"}),r.a.createElement(va.a.Content,{verticalAlign:"middle"},r.a.createElement(va.a.Header,{as:"h3"},r.a.createElement(m.a,{to:"#"},"Sally")),r.a.createElement(va.a.Extra,{style:{color:"orange"}},"Customer")))))),r.a.createElement("h1",null,"Testimonials"))},Ar=Object(s.a)((function(e){var t=e.match,a=Object(n.useContext)(da).mechanicStore,i=a.mechanic,o=a.loadMechanic,c=a.loadingInitial;return Object(n.useEffect)((function(){o(t.params.id)}),[o,t.params.id]),c||!i?r.a.createElement(dn,{content:"Loading mechanic shop..."}):r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:8},r.a.createElement(Pr,{mechanic:i}),r.a.createElement(zr,{mechanic:i})),r.a.createElement(fa.a.Column,{width:8},r.a.createElement(Mr,null)))})),Rr=function e(t){Object(h.a)(this,e),this.id=void 0,this.photoUrl="",this.name="",this.description="",this.yearOfStart="",this.datePublished="",this.country="",this.city="",this.address="",this.email="",this.phone="",this.website="",t&&Object.assign(this,t)},Ir=[{key:"2000",text:"2000",value:"2000"},{key:"2001",text:"2001",value:"2001"},{key:"2002",text:"2002",value:"2002"},{key:"2003",text:"2003",value:"2003"},{key:"2004",text:"2004",value:"2004"},{key:"2005",text:"2005",value:"2005"},{key:"2006",text:"2006",value:"2006"},{key:"2007",text:"2007",value:"2007"},{key:"2008",text:"2008",value:"2008"},{key:"2009",text:"2009",value:"2009"},{key:"2010",text:"2010",value:"2010"},{key:"2011",text:"2011",value:"2011"},{key:"2012",text:"2012",value:"2012"},{key:"2013",text:"2013",value:"2013"},{key:"2014",text:"2014",value:"2014"},{key:"2015",text:"2015",value:"2015"},{key:"2016",text:"2016",value:"2016"},{key:"2017",text:"2017",value:"2017"},{key:"2018",text:"2018",value:"2017"},{key:"2019",text:"2019",value:"2017"},{key:"2020",text:"2020",value:"2017"}],Fr=Object(Ba.createValidator)((function(e){return function(t){if(t&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t))return e}}),"Invalid email address"),Dr=Object(Ba.combineValidators)({name:Object(Ba.isRequired)({message:"The name is required"}),description:Object(Ba.composeValidators)(Object(Ba.isRequired)("Description"),Object(Ba.hasLengthGreaterThan)(4)({message:"Description needs to be at least 5 characters"}))(),photoUrl:Object(Ba.isRequired)("Photo"),country:Object(Ba.isRequired)("Country"),city:Object(Ba.isRequired)("City"),address:Object(Ba.isRequired)("address"),phone:Object(Ba.composeValidators)(Object(Ba.isNumeric)("Phone"),Object(Ba.isRequired)("Phone"),Object(Ba.hasLengthGreaterThan)(4)({message:"Description needs to be at least 5 characters"}))(),email:Object(Ba.composeValidators)(Object(Ba.isRequired)("Email"),Fr)(),website:Object(Ba.isRequired)("Website"),yearOfStart:Object(Ba.isRequired)("Year Of Start")}),Tr=Object(s.a)((function(e){var t=e.history,a=e.match,i=Object(n.useContext)(da).mechanicStore,o=i.createMechanic,c=i.editMechanic,l=i.submitting,u=i.editMode,s=i.loadMechanic,m=Object(n.useState)(new Rr),d=Object(pa.a)(m,2),b=d[0],p=d[1],f=Object(n.useState)(!1),h=Object(pa.a)(f,2),g=h[0],E=h[1];Object(n.useEffect)((function(){a.params.id&&(E(!0),s(a.params.id).then((function(e){p(new Rr(e))})).finally((function(){return E(!1)})))}),[s,a.params.id]);return r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:3}),r.a.createElement(fa.a.Column,{width:10},r.a.createElement(ya.a,{clearing:!0},r.a.createElement(La.b,{validate:Dr,initialValues:b,onSubmit:function(e){var t=Object.assign({},e);if(t.id)c(t);else{var a=Object(oa.a)(Object(oa.a)({},t),{},{id:Object(Xa.a)(),datePublished:(new Date).toISOString()});o(a)}},render:function(e){var a=e.handleSubmit,n=e.invalid,i=e.pristine;return r.a.createElement(qa.a,{onSubmit:a,loading:g},r.a.createElement(La.a,{name:"name",placeholder:"Name",value:b.name,component:Wa}),r.a.createElement(La.a,{name:"photoUrl",placeholder:"Photo",value:b.photoUrl,component:Wa}),r.a.createElement(La.a,{name:"country",placeholder:"Country",value:b.country,component:Wa}),r.a.createElement(La.a,{name:"city",placeholder:"City",value:b.city,component:Wa}),r.a.createElement(La.a,{name:"address",placeholder:"Address",value:b.address,component:Wa}),r.a.createElement(La.a,{name:"phone",placeholder:"Phone",value:b.phone,component:Wa}),r.a.createElement(La.a,{name:"email",placeholder:"Email",value:b.email,component:Wa}),r.a.createElement(La.a,{name:"website",placeholder:"Website",value:b.website,component:Wa}),!u&&r.a.createElement(La.a,{name:"yearOfStart",placeholder:"Year of Start",value:b.yearOfStart,options:Ir,component:an}),r.a.createElement(La.a,{name:"description",raws:3,placeholder:"Description",value:b.description,component:en}),r.a.createElement(ja.a,{loading:l,disabled:g||n||i,positive:!0,floated:"right",type:"submit",content:"submit"}),r.a.createElement(ja.a,{onClick:b.id?function(){return t.push("/mechanics/".concat(b.id))}:function(){return t.push("/mechanics")},disabled:g,floated:"right",type:"button",content:"cancel"}))}}))))})),Nr=function e(t){Object(h.a)(this,e),this.id="",this.name="",this.brand="",this.model="",this.cubicCentimeters="",this.photoUrl="",this.description="",this.yearOfProduction="",this.datePublished="",this.city="",this.country="",this.pricePaid="",this.estimatedValue="",this.numberOfKilometers="",t&&Object.assign(this,t)},Gr=[{key:"ducati",text:"Ducati",value:"ducati"},{key:"honda",text:"Honda",value:"honda"},{key:"BMW",text:"BMW",value:"BMW"},{key:"harley-davidson",text:"Harley-Davidson",value:"harley-davidson"},{key:"suzuki",text:"Suzuki",value:"suzuki"},{key:"yamaha",text:"Yamaha",value:"yamaha"}],Hr=Object(Ba.combineValidators)({name:Object(Ba.isRequired)({message:"The event name is required"}),description:Object(Ba.composeValidators)(Object(Ba.isRequired)("Description"),Object(Ba.hasLengthGreaterThan)(4)({message:"Description needs to be at least 5 characters"}))(),photoUrl:Object(Ba.isRequired)("Photo"),city:Object(Ba.isRequired)("City"),country:Object(Ba.isRequired)("Country"),model:Object(Ba.isRequired)("model"),pricePaid:Object(Ba.composeValidators)(Object(Ba.isNumeric)("Price paid"),Object(Ba.isRequired)("Price paid"))(),cubicCentimeters:Object(Ba.composeValidators)(Object(Ba.isNumeric)("Power of engine"),Object(Ba.isRequired)("Power of engine"))(),yearOfProduction:Object(Ba.isRequired)("Year of production"),numberOfKilometers:Object(Ba.composeValidators)(Object(Ba.isNumeric)("Number of kilometers"),Object(Ba.isRequired)("Number of kilometers"))(),estimatedValue:Object(Ba.composeValidators)(Object(Ba.isNumeric)("Estimated valude"),Object(Ba.isRequired)("Estimated valude"))()}),Lr=Object(s.a)((function(e){var t=e.match,a=e.history,i=Object(n.useContext)(da).motofyStore,o=i.createMotofy,c=i.editMotofy,l=i.submitting,u=i.editMode,s=i.loadMotofy,m=Object(n.useState)(new Nr),d=Object(pa.a)(m,2),b=d[0],p=d[1],f=Object(n.useState)(!1),h=Object(pa.a)(f,2),g=h[0],E=h[1];Object(n.useEffect)((function(){t.params.id&&(E(!0),s(t.params.id).then((function(e){return p(new Nr(e))})).finally((function(){return E(!1)})))}),[s,t.params.id]);return r.a.createElement(fa.a,null,r.a.createElement(fa.a.Column,{width:3}),r.a.createElement(fa.a.Column,{width:10},r.a.createElement(ya.a,{clearing:!0},r.a.createElement(La.b,{validate:Hr,initialValues:b,onSubmit:function(e){var t=Object.assign({},e);if(t.id)c(t);else{var a=Object(oa.a)(Object(oa.a)({},t),{},{id:Object(Xa.a)(),datePublished:(new Date).toISOString()});o(a)}},render:function(e){var t=e.handleSubmit,n=e.invalid,i=e.pristine;return r.a.createElement(qa.a,{onSubmit:t,loading:g},r.a.createElement(La.a,{name:"name",placeholder:"Name",value:b.name,component:Wa}),r.a.createElement(La.a,{name:"description",raws:3,placeholder:"Description",value:b.description,component:en}),r.a.createElement(La.a,{name:"photoUrl",placeholder:"PhotoUrl",value:b.photoUrl,component:Wa}),r.a.createElement(La.a,{name:"city",placeholder:"City",value:b.city,component:Wa}),r.a.createElement(La.a,{name:"country",placeholder:"Country",value:b.country,component:Wa}),r.a.createElement(La.a,{name:"brand",placeholder:"Brand",options:Gr,value:b.brand,component:an}),!u&&r.a.createElement(ya.a,null,r.a.createElement(La.a,{name:"model",placeholder:"Model",value:b.model,component:Wa}),r.a.createElement(La.a,{name:"cubicCentimeters",placeholder:"Cubics",value:b.cubicCentimeters,component:Wa}),r.a.createElement(La.a,{name:"yearOfProduction",placeholder:"Year of production",options:Ir,value:b.yearOfProduction,component:an}),r.a.createElement(La.a,{name:"numberOfKilometers",placeholder:"Number of kilometers",value:b.numberOfKilometers,component:Wa}),r.a.createElement(La.a,{name:"pricePaid",placeholder:"Price paid",value:b.pricePaid,component:Wa}),r.a.createElement(La.a,{name:"estimatedValue",placeholder:"Estimated value",value:b.estimatedValue,component:Wa})),r.a.createElement(ja.a,{loading:l,disabled:g||n||i,positive:!0,floated:"right",type:"submit",content:"submit"}),r.a.createElement(ja.a,{onClick:b.id?function(){return a.push("/gallery/".concat(b.id))}:function(){return a.push("/gallery")},disabled:g,floated:"right",type:"button",content:"cancel"}))}}))))})),Br=Object(s.a)((function(e){var t=e.component,a=Object($a.a)(e,["component"]),i=Object(n.useContext)(da).userStore.isLoggedIn;return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return i?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/"})}}))})),qr=Object(c.g)(Object(s.a)((function(e){var t=e.location,a=Object(n.useContext)(da),i=a.commonStore,o=i.setAppLoaded,l=i.token,s=i.appLoaded,m=a.userStore.getUser;return Object(n.useEffect)((function(){l?m().finally((function(){return o()})):o()}),[m,o,l]),s?r.a.createElement(n.Fragment,null,r.a.createElement(An,null),r.a.createElement(S.a,{position:"top-right"}),r.a.createElement(c.b,{exact:!0,path:"/",component:_a}),r.a.createElement(c.b,{path:"/(.+)",render:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ba,null),r.a.createElement(u.a,{style:{marginTop:"7em"}},r.a.createElement(c.d,null,r.a.createElement(Br,{exact:!0,path:"/activities",component:Na}),r.a.createElement(Br,{path:"/activities/:id",component:xn}),r.a.createElement(Br,{key:t.key,path:["/createActivity","/manage/:id"],component:cn}),r.a.createElement(Br,{exact:!0,path:"/gallery",component:bn}),r.a.createElement(Br,{path:"/gallery/:id",component:mr}),r.a.createElement(Br,{path:["/galleryForm","/manageGallery/:id"],key:t.key,component:Lr}),r.a.createElement(Br,{exact:!0,path:"/forum",component:pr}),r.a.createElement(Br,{exact:!0,path:"/forum/:id",component:xr}),r.a.createElement(Br,{key:t.key,path:["/forumform","/manageForum/:id"],component:Er}),r.a.createElement(Br,{exact:!0,path:"/mechanics",component:hn}),r.a.createElement(Br,{path:"/mechanics/:id",component:Ar}),r.a.createElement(Br,{key:t.key,path:["/mechanicForm","/manageMechanic/:id"],component:Tr}),r.a.createElement(Br,{path:"/merchant",component:Sn}),r.a.createElement(Br,{path:"/merchant/:id",component:Pn}),r.a.createElement(Br,{path:"/profile/:username",component:ar}),r.a.createElement(c.b,{path:"/login",component:Ja}),r.a.createElement(c.b,{component:zn}))))}})):r.a.createElement(dn,{content:"Loading app..."})})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ur=Object(c.g)((function(e){var t=e.children,a=e.location.pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[a]),t})),Vr=a(402);a.n(Vr)()();var Wr=Object(l.a)();o.a.render(r.a.createElement(c.c,{history:Wr},r.a.createElement(Ur,null,r.a.createElement(qr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[414,1,2]]]);
//# sourceMappingURL=main.932114c7.chunk.js.map